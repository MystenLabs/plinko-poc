{"version":3,"sources":["../src/index.ts","../src/cryptography/ed25519-keypair.ts","../src/cryptography/keypair.ts","../src/cryptography/secp256k1-keypair.ts","../src/cryptography/secp256k1-publickey.ts","../src/types/common.ts","../src/types/objects.ts","../src/types/events.ts","../src/types/transactions.ts","../src/types/option.ts","../src/framework/framework.ts","../src/types/sui-bcs.ts","../src/types/faucet.ts","../src/types/normalized.ts","../src/types/validator.ts","../src/types/coin.ts","../src/types/epochs.ts","../src/types/subscriptions.ts","../src/types/name-service.ts","../src/types/checkpoints.ts","../src/cryptography/ed25519-publickey.ts","../src/cryptography/signature.ts","../src/cryptography/publickey.ts","../src/cryptography/mnemonics.ts","../src/utils/ed25519-hd-key.ts","../src/rpc/client.ts","../src/version.ts","../src/utils/errors.ts","../src/types/dynamic_fields.ts","../src/rpc/websocket-client.ts","../src/rpc/faucet-client.ts","../src/providers/json-rpc-provider.ts","../src/rpc/connection.ts","../src/builder/TransactionBlock.ts","../src/builder/Transactions.ts","../src/builder/utils.ts","../src/signers/txn-data-serializers/type-tag-serializer.ts","../src/builder/Inputs.ts","../src/builder/bcs.ts","../src/builder/serializer.ts","../src/builder/TransactionBlockData.ts","../src/cryptography/hash.ts","../src/types/metrics.ts","../src/signers/raw-signer.ts","../src/signers/signer-with-provider.ts","../src/utils/intent.ts","../src/utils/format.ts","../src/utils/verify.ts","../src/framework/sui-system-state.ts"],"sourcesContent":["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\nexport * from './cryptography/ed25519-keypair';\nexport * from './cryptography/secp256k1-keypair';\nexport * from './cryptography/keypair';\nexport * from './cryptography/ed25519-publickey';\nexport * from './cryptography/secp256k1-publickey';\nexport * from './cryptography/publickey';\nexport * from './cryptography/mnemonics';\nexport * from './cryptography/signature';\n\nexport * from './providers/json-rpc-provider';\n\nexport * from './rpc/client';\nexport * from './rpc/faucet-client';\nexport * from './rpc/websocket-client';\nexport * from './rpc/connection';\n\nexport * from './signers/txn-data-serializers/type-tag-serializer';\n\nexport * from './signers/signer';\nexport * from './signers/raw-signer';\nexport * from './signers/signer-with-provider';\nexport * from './signers/types';\n\nexport * from './types';\nexport * from './utils/format';\nexport * from './utils/intent';\nexport * from './utils/verify';\nexport * from './utils/errors';\n\nexport * from './framework';\n\nexport * from './builder';\n\nexport { fromB64, toB64 } from '@mysten/bcs';\n\nexport { is, assert } from 'superstruct';\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport nacl from 'tweetnacl';\nimport { ExportedKeypair, Keypair, PRIVATE_KEY_SIZE } from './keypair';\nimport { Ed25519PublicKey } from './ed25519-publickey';\nimport { isValidHardenedPath, mnemonicToSeedHex } from './mnemonics';\nimport { derivePath } from '../utils/ed25519-hd-key';\nimport { toB64 } from '@mysten/bcs';\nimport { SignatureScheme } from './signature';\n\nexport const DEFAULT_ED25519_DERIVATION_PATH = \"m/44'/784'/0'/0'/0'\";\n\n/**\n * Ed25519 Keypair data. The publickey is the 32-byte public key and\n * the secretkey is 64-byte, where the first 32 bytes is the secret\n * key and the last 32 bytes is the public key.\n */\nexport interface Ed25519KeypairData {\n  publicKey: Uint8Array;\n  secretKey: Uint8Array;\n}\n\n/**\n * An Ed25519 Keypair used for signing transactions.\n */\nexport class Ed25519Keypair implements Keypair {\n  private keypair: Ed25519KeypairData;\n\n  /**\n   * Create a new Ed25519 keypair instance.\n   * Generate random keypair if no {@link Ed25519Keypair} is provided.\n   *\n   * @param keypair Ed25519 keypair\n   */\n  constructor(keypair?: Ed25519KeypairData) {\n    if (keypair) {\n      this.keypair = keypair;\n    } else {\n      this.keypair = nacl.sign.keyPair();\n    }\n  }\n\n  /**\n   * Get the key scheme of the keypair ED25519\n   */\n  getKeyScheme(): SignatureScheme {\n    return 'ED25519';\n  }\n\n  /**\n   * Generate a new random Ed25519 keypair\n   */\n  static generate(): Ed25519Keypair {\n    return new Ed25519Keypair(nacl.sign.keyPair());\n  }\n\n  /**\n   * Create a Ed25519 keypair from a raw secret key byte array, also known as seed.\n   * This is NOT the private scalar which is result of hashing and bit clamping of\n   * the raw secret key.\n   *\n   * The sui.keystore key is a list of Base64 encoded `flag || privkey`. To import\n   * a key from sui.keystore to typescript, decode from base64 and remove the first\n   * flag byte after checking it is indeed the Ed25519 scheme flag 0x00 (See more\n   * on flag for signature scheme: https://github.com/MystenLabs/sui/blob/818406c5abdf7de1b80915a0519071eec3a5b1c7/crates/sui-types/src/crypto.rs#L1650):\n   * ```\n   * import { Ed25519Keypair, fromB64 } from '@mysten/sui.js';\n   * const raw = fromB64(t[1]);\n   * if (raw[0] !== 0 || raw.length !== PRIVATE_KEY_SIZE + 1) {\n   *   throw new Error('invalid key');\n   * }\n   * const imported = Ed25519Keypair.fromSecretKey(raw.slice(1))\n   * ```\n   * @throws error if the provided secret key is invalid and validation is not skipped.\n   *\n   * @param secretKey secret key byte array\n   * @param options: skip secret key validation\n   */\n  static fromSecretKey(\n    secretKey: Uint8Array,\n    options?: { skipValidation?: boolean },\n  ): Ed25519Keypair {\n    const secretKeyLength = secretKey.length;\n    if (secretKeyLength !== PRIVATE_KEY_SIZE) {\n      throw new Error(\n        `Wrong secretKey size. Expected ${PRIVATE_KEY_SIZE} bytes, got ${secretKeyLength}.`,\n      );\n    }\n    const keypair = nacl.sign.keyPair.fromSeed(secretKey);\n    if (!options || !options.skipValidation) {\n      const encoder = new TextEncoder();\n      const signData = encoder.encode('sui validation');\n      const signature = nacl.sign.detached(signData, keypair.secretKey);\n      if (!nacl.sign.detached.verify(signData, signature, keypair.publicKey)) {\n        throw new Error('provided secretKey is invalid');\n      }\n    }\n    return new Ed25519Keypair(keypair);\n  }\n\n  /**\n   * The public key for this Ed25519 keypair\n   */\n  getPublicKey(): Ed25519PublicKey {\n    return new Ed25519PublicKey(this.keypair.publicKey);\n  }\n\n  /**\n   * Return the signature for the provided data using Ed25519.\n   */\n  signData(data: Uint8Array): Uint8Array {\n    return nacl.sign.detached(data, this.keypair.secretKey);\n  }\n\n  /**\n   * Derive Ed25519 keypair from mnemonics and path. The mnemonics must be normalized\n   * and validated against the english wordlist.\n   *\n   * If path is none, it will default to m/44'/784'/0'/0'/0', otherwise the path must\n   * be compliant to SLIP-0010 in form m/44'/784'/{account_index}'/{change_index}'/{address_index}'.\n   */\n  static deriveKeypair(mnemonics: string, path?: string): Ed25519Keypair {\n    if (path == null) {\n      path = DEFAULT_ED25519_DERIVATION_PATH;\n    }\n    if (!isValidHardenedPath(path)) {\n      throw new Error('Invalid derivation path');\n    }\n    const { key } = derivePath(path, mnemonicToSeedHex(mnemonics));\n\n    return Ed25519Keypair.fromSecretKey(key);\n  }\n\n  /**\n   * This returns an exported keypair object, the private key field is the pure 32-byte seed.\n   */\n  export(): ExportedKeypair {\n    return {\n      schema: 'ED25519',\n      privateKey: toB64(this.keypair.secretKey.slice(0, PRIVATE_KEY_SIZE)),\n    };\n  }\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { fromB64 } from '@mysten/bcs';\nimport { Ed25519Keypair } from './ed25519-keypair';\nimport { PublicKey } from './publickey';\nimport { Secp256k1Keypair } from './secp256k1-keypair';\nimport { SignatureScheme } from './signature';\n\nexport const PRIVATE_KEY_SIZE = 32;\nexport const LEGACY_PRIVATE_KEY_SIZE = 64;\n\nexport type ExportedKeypair = {\n  schema: SignatureScheme;\n  privateKey: string;\n};\n\n/**\n * A keypair used for signing transactions.\n */\nexport interface Keypair {\n  /**\n   * The public key for this keypair\n   */\n  getPublicKey(): PublicKey;\n\n  /**\n   * Return the signature for the data\n   */\n  signData(data: Uint8Array): Uint8Array;\n\n  /**\n   * Get the key scheme of the keypair: Secp256k1 or ED25519\n   */\n  getKeyScheme(): SignatureScheme;\n\n  export(): ExportedKeypair;\n}\n\nexport function fromExportedKeypair(keypair: ExportedKeypair): Keypair {\n  const secretKey = fromB64(keypair.privateKey);\n  switch (keypair.schema) {\n    case 'ED25519':\n      let pureSecretKey = secretKey;\n      if (secretKey.length === LEGACY_PRIVATE_KEY_SIZE) {\n        // This is a legacy secret key, we need to strip the public key bytes and only read the first 32 bytes\n        pureSecretKey = secretKey.slice(0, PRIVATE_KEY_SIZE);\n      }\n      return Ed25519Keypair.fromSecretKey(pureSecretKey);\n    case 'Secp256k1':\n      return Secp256k1Keypair.fromSecretKey(secretKey);\n    default:\n      throw new Error(`Invalid keypair schema ${keypair.schema}`);\n  }\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { ExportedKeypair, Keypair } from './keypair';\nimport { PublicKey } from './publickey';\nimport { sha256 } from '@noble/hashes/sha256';\nimport { Secp256k1PublicKey } from './secp256k1-publickey';\nimport { secp256k1 } from '@noble/curves/secp256k1';\nimport { isValidBIP32Path, mnemonicToSeed } from './mnemonics';\nimport { HDKey } from '@scure/bip32';\nimport { toB64 } from '@mysten/bcs';\nimport { SignatureScheme } from './signature';\nimport { bytesToHex } from '@noble/hashes/utils';\nimport { blake2b } from '@noble/hashes/blake2b';\n\nexport const DEFAULT_SECP256K1_DERIVATION_PATH = \"m/54'/784'/0'/0/0\";\n\n/**\n * Secp256k1 Keypair data\n */\nexport interface Secp256k1KeypairData {\n  publicKey: Uint8Array;\n  secretKey: Uint8Array;\n}\n\n/**\n * An Secp256k1 Keypair used for signing transactions.\n */\nexport class Secp256k1Keypair implements Keypair {\n  private keypair: Secp256k1KeypairData;\n\n  /**\n   * Create a new keypair instance.\n   * Generate random keypair if no {@link Secp256k1Keypair} is provided.\n   *\n   * @param keypair secp256k1 keypair\n   */\n  constructor(keypair?: Secp256k1KeypairData) {\n    if (keypair) {\n      this.keypair = keypair;\n    } else {\n      const secretKey: Uint8Array = secp256k1.utils.randomPrivateKey();\n      const publicKey: Uint8Array = secp256k1.getPublicKey(secretKey, true);\n\n      this.keypair = { publicKey, secretKey };\n    }\n  }\n\n  /**\n   * Get the key scheme of the keypair Secp256k1\n   */\n  getKeyScheme(): SignatureScheme {\n    return 'Secp256k1';\n  }\n\n  /**\n   * Generate a new random keypair\n   */\n  static generate(): Secp256k1Keypair {\n    return new Secp256k1Keypair();\n  }\n\n  /**\n   * Create a keypair from a raw secret key byte array.\n   *\n   * This method should only be used to recreate a keypair from a previously\n   * generated secret key. Generating keypairs from a random seed should be done\n   * with the {@link Keypair.fromSeed} method.\n   *\n   * @throws error if the provided secret key is invalid and validation is not skipped.\n   *\n   * @param secretKey secret key byte array\n   * @param options: skip secret key validation\n   */\n\n  static fromSecretKey(\n    secretKey: Uint8Array,\n    options?: { skipValidation?: boolean },\n  ): Secp256k1Keypair {\n    const publicKey: Uint8Array = secp256k1.getPublicKey(secretKey, true);\n    if (!options || !options.skipValidation) {\n      const encoder = new TextEncoder();\n      const signData = encoder.encode('sui validation');\n      const msgHash = bytesToHex(blake2b(signData, { dkLen: 32 }));\n      const signature = secp256k1.sign(msgHash, secretKey);\n      if (!secp256k1.verify(signature, msgHash, publicKey, { lowS: true })) {\n        throw new Error('Provided secretKey is invalid');\n      }\n    }\n    return new Secp256k1Keypair({ publicKey, secretKey });\n  }\n\n  /**\n   * Generate a keypair from a 32 byte seed.\n   *\n   * @param seed seed byte array\n   */\n  static fromSeed(seed: Uint8Array): Secp256k1Keypair {\n    let publicKey = secp256k1.getPublicKey(seed, true);\n    return new Secp256k1Keypair({ publicKey, secretKey: seed });\n  }\n\n  /**\n   * The public key for this keypair\n   */\n  getPublicKey(): PublicKey {\n    return new Secp256k1PublicKey(this.keypair.publicKey);\n  }\n\n  /**\n   * Return the signature for the provided data.\n   */\n  signData(data: Uint8Array): Uint8Array {\n    const msgHash = sha256(data);\n    const sig = secp256k1.sign(msgHash, this.keypair.secretKey, {\n      lowS: true,\n    });\n    return sig.toCompactRawBytes();\n  }\n\n  /**\n   * Derive Secp256k1 keypair from mnemonics and path. The mnemonics must be normalized\n   * and validated against the english wordlist.\n   *\n   * If path is none, it will default to m/54'/784'/0'/0/0, otherwise the path must\n   * be compliant to BIP-32 in form m/54'/784'/{account_index}'/{change_index}/{address_index}.\n   */\n  static deriveKeypair(mnemonics: string, path?: string): Secp256k1Keypair {\n    if (path == null) {\n      path = DEFAULT_SECP256K1_DERIVATION_PATH;\n    }\n    if (!isValidBIP32Path(path)) {\n      throw new Error('Invalid derivation path');\n    }\n    const key = HDKey.fromMasterSeed(mnemonicToSeed(mnemonics)).derive(path);\n    if (key.publicKey == null || key.privateKey == null) {\n      throw new Error('Invalid key');\n    }\n    return new Secp256k1Keypair({\n      publicKey: key.publicKey,\n      secretKey: key.privateKey,\n    });\n  }\n\n  export(): ExportedKeypair {\n    return {\n      schema: 'Secp256k1',\n      privateKey: toB64(this.keypair.secretKey),\n    };\n  }\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { fromB64, toB64 } from '@mysten/bcs';\nimport { blake2b } from '@noble/hashes/blake2b';\nimport { bytesToHex } from '@noble/hashes/utils';\nimport { normalizeSuiAddress, SUI_ADDRESS_LENGTH } from '../types';\nimport { bytesEqual, PublicKey, PublicKeyInitData } from './publickey';\nimport { SIGNATURE_SCHEME_TO_FLAG } from './signature';\n\nconst SECP256K1_PUBLIC_KEY_SIZE = 33;\n\n/**\n * A Secp256k1 public key\n */\nexport class Secp256k1PublicKey implements PublicKey {\n  static SIZE = SECP256K1_PUBLIC_KEY_SIZE;\n  private data: Uint8Array;\n\n  /**\n   * Create a new Secp256k1PublicKey object\n   * @param value secp256k1 public key as buffer or base-64 encoded string\n   */\n  constructor(value: PublicKeyInitData) {\n    if (typeof value === 'string') {\n      this.data = fromB64(value);\n    } else if (value instanceof Uint8Array) {\n      this.data = value;\n    } else {\n      this.data = Uint8Array.from(value);\n    }\n\n    if (this.data.length !== SECP256K1_PUBLIC_KEY_SIZE) {\n      throw new Error(\n        `Invalid public key input. Expected ${SECP256K1_PUBLIC_KEY_SIZE} bytes, got ${this.data.length}`,\n      );\n    }\n  }\n\n  /**\n   * Checks if two Secp256k1 public keys are equal\n   */\n  equals(publicKey: Secp256k1PublicKey): boolean {\n    return bytesEqual(this.toBytes(), publicKey.toBytes());\n  }\n\n  /**\n   * Return the base-64 representation of the Secp256k1 public key\n   */\n  toBase64(): string {\n    return toB64(this.toBytes());\n  }\n\n  /**\n   * Return the byte array representation of the Secp256k1 public key\n   */\n  toBytes(): Uint8Array {\n    return this.data;\n  }\n\n  /**\n   * Return the base-64 representation of the Secp256k1 public key\n   */\n  toString(): string {\n    return this.toBase64();\n  }\n\n  /**\n   * Return the Sui address associated with this Secp256k1 public key\n   */\n  toSuiAddress(): string {\n    let tmp = new Uint8Array(SECP256K1_PUBLIC_KEY_SIZE + 1);\n    tmp.set([SIGNATURE_SCHEME_TO_FLAG['Secp256k1']]);\n    tmp.set(this.toBytes(), 1);\n    // Each hex char represents half a byte, hence hex address doubles the length\n    return normalizeSuiAddress(\n      bytesToHex(blake2b(tmp, { dkLen: 32 })).slice(0, SUI_ADDRESS_LENGTH * 2),\n    );\n  }\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  define,\n  Infer,\n  literal,\n  number,\n  object,\n  string,\n  union,\n} from 'superstruct';\nimport { CallArg } from './sui-bcs';\nimport { fromB58 } from '@mysten/bcs';\n\nexport const TransactionDigest = string();\nexport type TransactionDigest = Infer<typeof TransactionDigest>;\n\nexport const TransactionEffectsDigest = string();\nexport type TransactionEffectsDigest = Infer<typeof TransactionEffectsDigest>;\n\nexport const TransactionEventDigest = string();\nexport type TransactionEventDigest = Infer<typeof TransactionEventDigest>;\n\nexport const ObjectId = string();\nexport type ObjectId = Infer<typeof ObjectId>;\n\nexport const SuiAddress = string();\nexport type SuiAddress = Infer<typeof SuiAddress>;\n\nexport const SequenceNumber = string();\nexport type SequenceNumber = Infer<typeof SequenceNumber>;\n\nexport const ObjectOwner = union([\n  object({\n    AddressOwner: SuiAddress,\n  }),\n  object({\n    ObjectOwner: SuiAddress,\n  }),\n  object({\n    Shared: object({\n      initial_shared_version: number(),\n    }),\n  }),\n  literal('Immutable'),\n]);\nexport type ObjectOwner = Infer<typeof ObjectOwner>;\n\nexport type SuiJsonValue =\n  | boolean\n  | number\n  | string\n  | CallArg\n  | Array<SuiJsonValue>;\nexport const SuiJsonValue = define<SuiJsonValue>('SuiJsonValue', () => true);\n\n// source of truth is\n// https://github.com/MystenLabs/sui/blob/acb2b97ae21f47600e05b0d28127d88d0725561d/crates/sui-types/src/base_types.rs#L171\nconst TX_DIGEST_LENGTH = 32;\n\n/** Returns whether the tx digest is valid based on the serialization format */\nexport function isValidTransactionDigest(\n  value: string,\n): value is TransactionDigest {\n  try {\n    const buffer = fromB58(value);\n    return buffer.length === TX_DIGEST_LENGTH;\n  } catch (e) {\n    return false;\n  }\n}\n\n// TODO - can we automatically sync this with rust length definition?\n// Source of truth is\n// https://github.com/MystenLabs/sui/blob/acb2b97ae21f47600e05b0d28127d88d0725561d/crates/sui-types/src/base_types.rs#L67\n// which uses the Move account address length\n// https://github.com/move-language/move/blob/67ec40dc50c66c34fd73512fcc412f3b68d67235/language/move-core/types/src/account_address.rs#L23 .\n\nexport const SUI_ADDRESS_LENGTH = 32;\nexport function isValidSuiAddress(value: string): value is SuiAddress {\n  return isHex(value) && getHexByteLength(value) === SUI_ADDRESS_LENGTH;\n}\n\nexport function isValidSuiObjectId(value: string): boolean {\n  return isValidSuiAddress(value);\n}\n\ntype StructTag = {\n  address: string;\n  module: string;\n  name: string;\n  typeParams: (string | StructTag)[];\n};\n\nfunction parseTypeTag(type: string): string | StructTag {\n  if (!type.includes('::')) return type;\n\n  return parseStructTag(type);\n}\n\nexport function parseStructTag(type: string): StructTag {\n  const [address, module] = type.split('::');\n\n  const rest = type.slice(address.length + module.length + 4);\n  const name = rest.includes('<') ? rest.slice(0, rest.indexOf('<')) : rest;\n  const typeParams = rest.includes('<')\n    ? rest\n        .slice(rest.indexOf('<') + 1, rest.lastIndexOf('>'))\n        .split(',')\n        .map((typeParam) => parseTypeTag(typeParam.trim()))\n    : [];\n\n  return {\n    address: normalizeSuiAddress(address),\n    module,\n    name,\n    typeParams,\n  };\n}\n\nexport function normalizeStructTag(type: string | StructTag): string {\n  const { address, module, name, typeParams } =\n    typeof type === 'string' ? parseStructTag(type) : type;\n\n  const formattedTypeParams =\n    typeParams.length > 0\n      ? `<${typeParams\n          .map((typeParam) =>\n            typeof typeParam === 'string'\n              ? typeParam\n              : normalizeStructTag(typeParam),\n          )\n          .join(',')}>`\n      : '';\n\n  return `${address}::${module}::${name}${formattedTypeParams}`;\n}\n\n/**\n * Perform the following operations:\n * 1. Make the address lower case\n * 2. Prepend `0x` if the string does not start with `0x`.\n * 3. Add more zeros if the length of the address(excluding `0x`) is less than `SUI_ADDRESS_LENGTH`\n *\n * WARNING: if the address value itself starts with `0x`, e.g., `0x0x`, the default behavior\n * is to treat the first `0x` not as part of the address. The default behavior can be overridden by\n * setting `forceAdd0x` to true\n *\n */\nexport function normalizeSuiAddress(\n  value: string,\n  forceAdd0x: boolean = false,\n): SuiAddress {\n  let address = value.toLowerCase();\n  if (!forceAdd0x && address.startsWith('0x')) {\n    address = address.slice(2);\n  }\n  return `0x${address.padStart(SUI_ADDRESS_LENGTH * 2, '0')}`;\n}\n\nexport function normalizeSuiObjectId(\n  value: string,\n  forceAdd0x: boolean = false,\n): ObjectId {\n  return normalizeSuiAddress(value, forceAdd0x);\n}\n\nfunction isHex(value: string): boolean {\n  return /^(0x|0X)?[a-fA-F0-9]+$/.test(value) && value.length % 2 === 0;\n}\n\nfunction getHexByteLength(value: string): number {\n  return /^(0x|0X)/.test(value) ? (value.length - 2) / 2 : value.length / 2;\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  any,\n  array,\n  assign,\n  boolean,\n  Infer,\n  literal,\n  number,\n  object,\n  optional,\n  record,\n  string,\n  union,\n  is,\n  nullable,\n  tuple,\n} from 'superstruct';\nimport {\n  ObjectId,\n  ObjectOwner,\n  SequenceNumber,\n  TransactionDigest,\n} from './common';\nimport { OwnedObjectRef } from './transactions';\n\nexport const ObjectType = union([string(), literal('package')]);\nexport type ObjectType = Infer<typeof ObjectType>;\n\nexport const SuiObjectRef = object({\n  /** Base64 string representing the object digest */\n  digest: TransactionDigest,\n  /** Hex code as string representing the object id */\n  objectId: string(),\n  /** Object version */\n  version: union([number(), string()]),\n});\nexport type SuiObjectRef = Infer<typeof SuiObjectRef>;\n\nexport const SuiGasData = object({\n  payment: array(SuiObjectRef),\n  /** Gas Object's owner */\n  owner: string(),\n  price: string(),\n  budget: string(),\n});\nexport type SuiGasData = Infer<typeof SuiGasData>;\n\nexport const SuiObjectInfo = assign(\n  SuiObjectRef,\n  object({\n    type: string(),\n    owner: ObjectOwner,\n    previousTransaction: TransactionDigest,\n  }),\n);\nexport type SuiObjectInfo = Infer<typeof SuiObjectInfo>;\n\nexport const ObjectContentFields = record(string(), any());\nexport type ObjectContentFields = Infer<typeof ObjectContentFields>;\n\nexport const MovePackageContent = record(string(), string());\nexport type MovePackageContent = Infer<typeof MovePackageContent>;\n\nexport const SuiMoveObject = object({\n  /** Move type (e.g., \"0x2::coin::Coin<0x2::sui::SUI>\") */\n  type: string(),\n  /** Fields and values stored inside the Move object */\n  fields: ObjectContentFields,\n  hasPublicTransfer: boolean(),\n});\nexport type SuiMoveObject = Infer<typeof SuiMoveObject>;\n\nexport const SuiMovePackage = object({\n  /** A mapping from module name to disassembled Move bytecode */\n  disassembled: MovePackageContent,\n});\nexport type SuiMovePackage = Infer<typeof SuiMovePackage>;\n\nexport const SuiParsedData = union([\n  assign(SuiMoveObject, object({ dataType: literal('moveObject') })),\n  assign(SuiMovePackage, object({ dataType: literal('package') })),\n]);\nexport type SuiParsedData = Infer<typeof SuiParsedData>;\n\nexport const SuiRawMoveObject = object({\n  /** Move type (e.g., \"0x2::coin::Coin<0x2::sui::SUI>\") */\n  type: string(),\n  hasPublicTransfer: boolean(),\n  version: number(),\n  bcsBytes: string(),\n});\nexport type SuiRawMoveObject = Infer<typeof SuiRawMoveObject>;\n\nexport const SuiRawMovePackage = object({\n  id: ObjectId,\n  /** A mapping from module name to Move bytecode enocded in base64*/\n  moduleMap: record(string(), string()),\n});\nexport type SuiRawMovePackage = Infer<typeof SuiRawMovePackage>;\n\n// TODO(chris): consolidate SuiRawParsedData and SuiRawObject using generics\nexport const SuiRawData = union([\n  assign(SuiRawMoveObject, object({ dataType: literal('moveObject') })),\n  assign(SuiRawMovePackage, object({ dataType: literal('package') })),\n]);\nexport type SuiRawData = Infer<typeof SuiRawData>;\n\nexport const SUI_DECIMALS = 9;\n\nexport const MIST_PER_SUI = BigInt(1000000000);\n\nexport const ObjectDigest = string();\nexport type ObjectDigest = Infer<typeof ObjectDigest>;\nexport const SuiObjectResponseError = object({\n  code: string(),\n  error: optional(string()),\n  object_id: optional(ObjectId),\n  parent_object_id: optional(ObjectId),\n  version: optional(number()),\n  digest: optional(ObjectDigest),\n});\nexport type SuiObjectResponseError = Infer<typeof SuiObjectResponseError>;\nexport const DisplayFieldsResponse = object({\n  data: nullable(record(string(), string())),\n  error: nullable(SuiObjectResponseError),\n});\nexport type DisplayFieldsResponse = Infer<typeof DisplayFieldsResponse>;\n// TODO: remove after all envs support the new DisplayFieldsResponse;\nexport const DisplayFieldsBackwardCompatibleResponse = union([\n  DisplayFieldsResponse,\n  optional(record(string(), string())),\n]);\nexport type DisplayFieldsBackwardCompatibleResponse = Infer<\n  typeof DisplayFieldsBackwardCompatibleResponse\n>;\n\nexport const SuiObjectData = object({\n  objectId: ObjectId,\n  version: SequenceNumber,\n  digest: ObjectDigest,\n  /**\n   * Type of the object, default to be undefined unless SuiObjectDataOptions.showType is set to true\n   */\n  type: optional(string()),\n  /**\n   * Move object content or package content, default to be undefined unless SuiObjectDataOptions.showContent is set to true\n   */\n  content: optional(SuiParsedData),\n  /**\n   * Move object content or package content in BCS bytes, default to be undefined unless SuiObjectDataOptions.showBcs is set to true\n   */\n  bcs: optional(SuiRawData),\n  /**\n   * The owner of this object. Default to be undefined unless SuiObjectDataOptions.showOwner is set to true\n   */\n  owner: optional(ObjectOwner),\n  /**\n   * The digest of the transaction that created or last mutated this object.\n   * Default to be undefined unless SuiObjectDataOptions.showPreviousTransaction is set to true\n   */\n  previousTransaction: optional(TransactionDigest),\n  /**\n   * The amount of SUI we would rebate if this object gets deleted.\n   * This number is re-calculated each time the object is mutated based on\n   * the present storage gas price.\n   * Default to be undefined unless SuiObjectDataOptions.showStorageRebate is set to true\n   */\n  storageRebate: optional(string()),\n  /**\n   * Display metadata for this object, default to be undefined unless SuiObjectDataOptions.showDisplay is set to true\n   * This can also be None if the struct type does not have Display defined\n   * See more details in https://forums.sui.io/t/nft-object-display-proposal/4872\n   */\n  display: optional(DisplayFieldsBackwardCompatibleResponse),\n});\nexport type SuiObjectData = Infer<typeof SuiObjectData>;\n\n/**\n * Config for fetching object data\n */\nexport const SuiObjectDataOptions = object({\n  /* Whether to fetch the object type, default to be true */\n  showType: optional(boolean()),\n  /* Whether to fetch the object content, default to be false */\n  showContent: optional(boolean()),\n  /* Whether to fetch the object content in BCS bytes, default to be false */\n  showBcs: optional(boolean()),\n  /* Whether to fetch the object owner, default to be false */\n  showOwner: optional(boolean()),\n  /* Whether to fetch the previous transaction digest, default to be false */\n  showPreviousTransaction: optional(boolean()),\n  /* Whether to fetch the storage rebate, default to be false */\n  showStorageRebate: optional(boolean()),\n  /* Whether to fetch the display metadata, default to be false */\n  showDisplay: optional(boolean()),\n});\nexport type SuiObjectDataOptions = Infer<typeof SuiObjectDataOptions>;\n\nexport const ObjectStatus = union([\n  literal('Exists'),\n  literal('notExists'),\n  literal('Deleted'),\n]);\nexport type ObjectStatus = Infer<typeof ObjectStatus>;\n\nexport const GetOwnedObjectsResponse = array(SuiObjectInfo);\nexport type GetOwnedObjectsResponse = Infer<typeof GetOwnedObjectsResponse>;\n\nexport const SuiObjectResponse = object({\n  data: optional(SuiObjectData),\n  error: optional(SuiObjectResponseError),\n});\nexport type SuiObjectResponse = Infer<typeof SuiObjectResponse>;\n\nexport type Order = 'ascending' | 'descending';\n\n/* -------------------------------------------------------------------------- */\n/*                              Helper functions                              */\n/* -------------------------------------------------------------------------- */\n\n/* -------------------------- SuiObjectResponse ------------------------- */\n\nexport function getSuiObjectData(\n  resp: SuiObjectResponse,\n): SuiObjectData | undefined {\n  return resp.data;\n}\n\nexport function getObjectDeletedResponse(\n  resp: SuiObjectResponse,\n): SuiObjectRef | undefined {\n  if (\n    resp.error &&\n    'object_id' in resp.error &&\n    'version' in resp.error &&\n    'digest' in resp.error\n  ) {\n    const error = resp.error as SuiObjectResponseError;\n    return {\n      objectId: error.object_id,\n      version: error.version,\n      digest: error.digest,\n    } as SuiObjectRef;\n  }\n\n  return undefined;\n}\n\nexport function getObjectNotExistsResponse(\n  resp: SuiObjectResponse,\n): ObjectId | undefined {\n  if (\n    resp.error &&\n    'object_id' in resp.error &&\n    !('version' in resp.error) &&\n    !('digest' in resp.error)\n  ) {\n    return (resp.error as SuiObjectResponseError).object_id as ObjectId;\n  }\n\n  return undefined;\n}\n\nexport function getObjectReference(\n  resp: SuiObjectResponse | OwnedObjectRef,\n): SuiObjectRef | undefined {\n  if ('reference' in resp) {\n    return resp.reference;\n  }\n  const exists = getSuiObjectData(resp);\n  if (exists) {\n    return {\n      objectId: exists.objectId,\n      version: exists.version,\n      digest: exists.digest,\n    };\n  }\n  return getObjectDeletedResponse(resp);\n}\n\n/* ------------------------------ SuiObjectRef ------------------------------ */\n\nexport function getObjectId(\n  data: SuiObjectResponse | SuiObjectRef | OwnedObjectRef,\n): ObjectId {\n  if ('objectId' in data) {\n    return data.objectId;\n  }\n  return (\n    getObjectReference(data)?.objectId ??\n    getObjectNotExistsResponse(data as SuiObjectResponse)!\n  );\n}\n\nexport function getObjectVersion(\n  data: SuiObjectResponse | SuiObjectRef | SuiObjectData,\n): string | number | undefined {\n  if ('version' in data) {\n    return data.version;\n  }\n  return getObjectReference(data)?.version;\n}\n\n/* -------------------------------- SuiObject ------------------------------- */\n\nexport function isSuiObjectResponse(\n  resp: SuiObjectResponse | SuiObjectData,\n): resp is SuiObjectResponse {\n  return (resp as SuiObjectResponse).data !== undefined;\n}\n\n/**\n * Deriving the object type from the object response\n * @returns 'package' if the object is a package, move object type(e.g., 0x2::coin::Coin<0x2::sui::SUI>)\n * if the object is a move object\n */\nexport function getObjectType(\n  resp: SuiObjectResponse | SuiObjectData,\n): ObjectType | undefined {\n  const data = isSuiObjectResponse(resp) ? resp.data : resp;\n\n  if (!data?.type && 'data' in resp) {\n    if (data?.content?.dataType === 'package') {\n      return 'package';\n    }\n    return getMoveObjectType(resp);\n  }\n  return data?.type;\n}\n\nexport function getObjectPreviousTransactionDigest(\n  resp: SuiObjectResponse,\n): TransactionDigest | undefined {\n  return getSuiObjectData(resp)?.previousTransaction;\n}\n\nexport function getObjectOwner(\n  resp: SuiObjectResponse | ObjectOwner,\n): ObjectOwner | undefined {\n  if (is(resp, ObjectOwner)) {\n    return resp;\n  }\n  return getSuiObjectData(resp)?.owner;\n}\n\nexport function getObjectDisplay(\n  resp: SuiObjectResponse,\n): DisplayFieldsResponse {\n  const display = getSuiObjectData(resp)?.display;\n  if (!display) {\n    return { data: null, error: null };\n  }\n  if (is(display, DisplayFieldsResponse)) {\n    return display;\n  }\n  return {\n    data: display,\n    error: null,\n  };\n}\n\nexport function getSharedObjectInitialVersion(\n  resp: SuiObjectResponse | ObjectOwner,\n): number | undefined {\n  const owner = getObjectOwner(resp);\n  if (typeof owner === 'object' && 'Shared' in owner) {\n    return owner.Shared.initial_shared_version;\n  } else {\n    return undefined;\n  }\n}\n\nexport function isSharedObject(resp: SuiObjectResponse | ObjectOwner): boolean {\n  const owner = getObjectOwner(resp);\n  return typeof owner === 'object' && 'Shared' in owner;\n}\n\nexport function isImmutableObject(\n  resp: SuiObjectResponse | ObjectOwner,\n): boolean {\n  const owner = getObjectOwner(resp);\n  return owner === 'Immutable';\n}\n\nexport function getMoveObjectType(resp: SuiObjectResponse): string | undefined {\n  return getMoveObject(resp)?.type;\n}\n\nexport function getObjectFields(\n  resp: SuiObjectResponse | SuiMoveObject | SuiObjectData,\n): ObjectContentFields | undefined {\n  if ('fields' in resp) {\n    return resp.fields;\n  }\n  return getMoveObject(resp)?.fields;\n}\n\nexport interface SuiObjectDataWithContent extends SuiObjectData {\n  content: SuiParsedData;\n}\n\nfunction isSuiObjectDataWithContent(\n  data: SuiObjectData,\n): data is SuiObjectDataWithContent {\n  return data.content !== undefined;\n}\n\nexport function getMoveObject(\n  data: SuiObjectResponse | SuiObjectData,\n): SuiMoveObject | undefined {\n  const suiObject =\n    'data' in data ? getSuiObjectData(data) : (data as SuiObjectData);\n\n  if (\n    !suiObject ||\n    !isSuiObjectDataWithContent(suiObject) ||\n    suiObject.content.dataType !== 'moveObject'\n  ) {\n    return undefined;\n  }\n\n  return suiObject.content as SuiMoveObject;\n}\n\nexport function hasPublicTransfer(\n  data: SuiObjectResponse | SuiObjectData,\n): boolean {\n  return getMoveObject(data)?.hasPublicTransfer ?? false;\n}\n\nexport function getMovePackageContent(\n  data: SuiObjectResponse | SuiMovePackage,\n): MovePackageContent | undefined {\n  if ('disassembled' in data) {\n    return data.disassembled;\n  }\n  const suiObject = getSuiObjectData(data);\n  if (suiObject?.content?.dataType !== 'package') {\n    return undefined;\n  }\n  return (suiObject.content as SuiMovePackage).disassembled;\n}\n\nexport const CheckpointedObjectId = object({\n  objectId: ObjectId,\n  atCheckpoint: optional(number()),\n});\nexport type CheckpointedObjectId = Infer<typeof CheckpointedObjectId>;\n\nexport const PaginatedObjectsResponse = object({\n  data: array(SuiObjectResponse),\n  // TODO: remove union after 0.30.0 is released\n  nextCursor: union([nullable(ObjectId), nullable(CheckpointedObjectId)]),\n  hasNextPage: boolean(),\n});\nexport type PaginatedObjectsResponse = Infer<typeof PaginatedObjectsResponse>;\n\n// mirrors sui_json_rpc_types:: SuiObjectDataFilter\nexport type SuiObjectDataFilter =\n  | { MatchAll: SuiObjectDataFilter[] }\n  | { MatchAny: SuiObjectDataFilter[] }\n  | { MatchNone: SuiObjectDataFilter[] }\n  | { Package: ObjectId }\n  | { MoveModule: { package: ObjectId; module: string } }\n  | { StructType: string }\n  | { AddressOwner: string }\n  | { ObjectOwner: string }\n  | { ObjectId: string }\n  | { ObjectIds: string[] }\n  | { Version: string };\n\nexport type SuiObjectResponseQuery = {\n  filter?: SuiObjectDataFilter;\n  options?: SuiObjectDataOptions;\n};\n\nexport const ObjectRead = union([\n  object({\n    details: SuiObjectData,\n    status: literal('VersionFound'),\n  }),\n  object({\n    details: ObjectId,\n    status: literal('ObjectNotExists'),\n  }),\n  object({\n    details: SuiObjectRef,\n    status: literal('ObjectDeleted'),\n  }),\n  object({\n    details: tuple([ObjectId, number()]),\n    status: literal('VersionNotFound'),\n  }),\n  object({\n    details: object({\n      asked_version: number(),\n      latest_version: number(),\n      object_id: ObjectId,\n    }),\n    status: literal('VersionTooHigh'),\n  }),\n]);\nexport type ObjectRead = Infer<typeof ObjectRead>;\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  object,\n  string,\n  Infer,\n  array,\n  record,\n  any,\n  optional,\n  boolean,\n  nullable,\n} from 'superstruct';\nimport {\n  ObjectId,\n  SuiAddress,\n  TransactionDigest,\n  SuiJsonValue,\n  SequenceNumber,\n} from './common';\n\nexport const EventId = object({\n  txDigest: TransactionDigest,\n  eventSeq: SequenceNumber,\n});\n\n// event types mirror those in \"sui-json-rpc-types/src/sui_event.rs\"\n\nexport const SuiEvent = object({\n  id: EventId,\n  // Move package where this event was emitted.\n  packageId: ObjectId,\n  // Move module where this event was emitted.\n  transactionModule: string(),\n  // Sender's Sui address.\n  sender: SuiAddress,\n  // Move event type.\n  type: string(),\n  // Parsed json value of the event\n  parsedJson: optional(record(string(), any())),\n  // Base 58 encoded bcs bytes of the move event\n  bcs: optional(string()),\n  timestampMs: optional(string()),\n});\n\nexport type SuiEvent = Infer<typeof SuiEvent>;\n\nexport type MoveEventField = {\n  path: string;\n  value: SuiJsonValue;\n};\n\n/**\n * Sequential event ID, ie (transaction seq number, event seq number).\n * 1) Serves as a unique event ID for each fullnode\n * 2) Also serves to sequence events for the purposes of pagination and querying.\n *    A higher id is an event seen later by that fullnode.\n * This ID is the \"cursor\" for event querying.\n */\nexport type EventId = Infer<typeof EventId>;\n\n// mirrors sui_json_rpc_types::SuiEventFilter\nexport type SuiEventFilter =\n  | { Package: ObjectId }\n  | { MoveModule: { package: ObjectId; module: string } }\n  | { MoveEventType: string }\n  | { MoveEventField: MoveEventField }\n  | { Transaction: TransactionDigest }\n  | {\n      TimeRange: {\n        // left endpoint of time interval, milliseconds since epoch, inclusive\n        start_time: number;\n        // right endpoint of time interval, milliseconds since epoch, exclusive\n        end_time: number;\n      };\n    }\n  | { Sender: SuiAddress }\n  | { All: SuiEventFilter[] }\n  | { Any: SuiEventFilter[] }\n  | { And: [SuiEventFilter, SuiEventFilter] }\n  | { Or: [SuiEventFilter, SuiEventFilter] };\n\nexport const PaginatedEvents = object({\n  data: array(SuiEvent),\n  nextCursor: nullable(EventId),\n  hasNextPage: boolean(),\n});\nexport type PaginatedEvents = Infer<typeof PaginatedEvents>;\n\n/* ------------------------------- EventData ------------------------------ */\n\nexport function getEventSender(event: SuiEvent): SuiAddress {\n  return event.sender;\n}\n\nexport function getEventPackage(event: SuiEvent): ObjectId {\n  return event.packageId;\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  is,\n  array,\n  Infer,\n  literal,\n  number,\n  object,\n  optional,\n  string,\n  union,\n  boolean,\n  tuple,\n  assign,\n  nullable,\n} from 'superstruct';\n\nimport {\n  ObjectId,\n  ObjectOwner,\n  SequenceNumber,\n  SuiAddress,\n  SuiJsonValue,\n  TransactionDigest,\n  TransactionEventDigest,\n} from './common';\nimport { SuiEvent } from './events';\nimport {\n  ObjectDigest,\n  SuiGasData,\n  SuiMovePackage,\n  SuiObjectRef,\n} from './objects';\n\nexport const EpochId = string();\n\nexport const SuiChangeEpoch = object({\n  epoch: EpochId,\n  storage_charge: string(),\n  computation_charge: string(),\n  storage_rebate: string(),\n  epoch_start_timestamp_ms: optional(string()),\n});\nexport type SuiChangeEpoch = Infer<typeof SuiChangeEpoch>;\n\nexport const SuiConsensusCommitPrologue = object({\n  epoch: EpochId,\n  round: string(),\n  commit_timestamp_ms: string(),\n});\nexport type SuiConsensusCommitPrologue = Infer<\n  typeof SuiConsensusCommitPrologue\n>;\n\nexport const Genesis = object({\n  objects: array(ObjectId),\n});\nexport type Genesis = Infer<typeof Genesis>;\n\nexport const SuiArgument = union([\n  literal('GasCoin'),\n  object({ Input: number() }),\n  object({ Result: number() }),\n  object({ NestedResult: tuple([number(), number()]) }),\n]);\nexport type SuiArgument = Infer<typeof SuiArgument>;\n\nexport const MoveCallSuiTransaction = object({\n  arguments: optional(array(SuiArgument)),\n  type_arguments: optional(array(string())),\n  package: ObjectId,\n  module: string(),\n  function: string(),\n});\nexport type MoveCallSuiTransaction = Infer<typeof MoveCallSuiTransaction>;\n\nexport const SuiTransaction = union([\n  object({ MoveCall: MoveCallSuiTransaction }),\n  object({ TransferObjects: tuple([array(SuiArgument), SuiArgument]) }),\n  object({ SplitCoins: tuple([SuiArgument, array(SuiArgument)]) }),\n  object({ MergeCoins: tuple([SuiArgument, array(SuiArgument)]) }),\n  object({\n    Publish: union([\n      // TODO: Remove this after 0.34 is released:\n      tuple([SuiMovePackage, array(ObjectId)]),\n      array(ObjectId),\n    ]),\n  }),\n  object({\n    Upgrade: union([\n      // TODO: Remove this after 0.34 is released:\n      tuple([SuiMovePackage, array(ObjectId), ObjectId, SuiArgument]),\n      tuple([array(ObjectId), ObjectId, SuiArgument]),\n    ]),\n  }),\n  object({ MakeMoveVec: tuple([nullable(string()), array(SuiArgument)]) }),\n]);\n\nexport const SuiCallArg = union([\n  object({\n    type: literal('pure'),\n    valueType: nullable(string()),\n    value: SuiJsonValue,\n  }),\n  object({\n    type: literal('object'),\n    objectType: literal('immOrOwnedObject'),\n    objectId: ObjectId,\n    version: SequenceNumber,\n    digest: ObjectDigest,\n  }),\n  object({\n    type: literal('object'),\n    objectType: literal('sharedObject'),\n    objectId: ObjectId,\n    initialSharedVersion: SequenceNumber,\n    mutable: boolean(),\n  }),\n]);\nexport type SuiCallArg = Infer<typeof SuiCallArg>;\n\nexport const ProgrammableTransaction = object({\n  transactions: array(SuiTransaction),\n  inputs: array(SuiCallArg),\n});\nexport type ProgrammableTransaction = Infer<typeof ProgrammableTransaction>;\nexport type SuiTransaction = Infer<typeof SuiTransaction>;\n\n/**\n * 1. WaitForEffectsCert: waits for TransactionEffectsCert and then returns to the client.\n *    This mode is a proxy for transaction finality.\n * 2. WaitForLocalExecution: waits for TransactionEffectsCert and makes sure the node\n *    executed the transaction locally before returning to the client. The local execution\n *    makes sure this node is aware of this transaction when the client fires subsequent queries.\n *    However, if the node fails to execute the transaction locally in a timely manner,\n *    a bool type in the response is set to false to indicate the case.\n */\nexport type ExecuteTransactionRequestType =\n  | 'WaitForEffectsCert'\n  | 'WaitForLocalExecution';\n\nexport type TransactionKindName =\n  | 'ChangeEpoch'\n  | 'ConsensusCommitPrologue'\n  | 'Genesis'\n  | 'ProgrammableTransaction';\n\nexport const SuiTransactionBlockKind = union([\n  assign(SuiChangeEpoch, object({ kind: literal('ChangeEpoch') })),\n  assign(\n    SuiConsensusCommitPrologue,\n    object({\n      kind: literal('ConsensusCommitPrologue'),\n    }),\n  ),\n  assign(Genesis, object({ kind: literal('Genesis') })),\n  assign(\n    ProgrammableTransaction,\n    object({ kind: literal('ProgrammableTransaction') }),\n  ),\n]);\nexport type SuiTransactionBlockKind = Infer<typeof SuiTransactionBlockKind>;\n\nexport const SuiTransactionBlockData = object({\n  // Eventually this will become union(literal('v1'), literal('v2'), ...)\n  messageVersion: literal('v1'),\n  transaction: SuiTransactionBlockKind,\n  sender: SuiAddress,\n  gasData: SuiGasData,\n});\nexport type SuiTransactionBlockData = Infer<typeof SuiTransactionBlockData>;\n\nexport const AuthoritySignature = string();\nexport const GenericAuthoritySignature = union([\n  AuthoritySignature,\n  array(AuthoritySignature),\n]);\n\nexport const AuthorityQuorumSignInfo = object({\n  epoch: EpochId,\n  signature: GenericAuthoritySignature,\n  signers_map: array(number()),\n});\nexport type AuthorityQuorumSignInfo = Infer<typeof AuthorityQuorumSignInfo>;\n\nexport const GasCostSummary = object({\n  computationCost: string(),\n  storageCost: string(),\n  storageRebate: string(),\n  nonRefundableStorageFee: string(),\n});\nexport type GasCostSummary = Infer<typeof GasCostSummary>;\n\nexport const ExecutionStatusType = union([\n  literal('success'),\n  literal('failure'),\n]);\nexport type ExecutionStatusType = Infer<typeof ExecutionStatusType>;\n\nexport const ExecutionStatus = object({\n  status: ExecutionStatusType,\n  error: optional(string()),\n});\nexport type ExecutionStatus = Infer<typeof ExecutionStatus>;\n\nexport const OwnedObjectRef = object({\n  owner: ObjectOwner,\n  reference: SuiObjectRef,\n});\nexport type OwnedObjectRef = Infer<typeof OwnedObjectRef>;\nexport const TransactionEffectsModifiedAtVersions = object({\n  objectId: ObjectId,\n  sequenceNumber: SequenceNumber,\n});\n\nexport const TransactionEffects = object({\n  // Eventually this will become union(literal('v1'), literal('v2'), ...)\n  messageVersion: literal('v1'),\n\n  /** The status of the execution */\n  status: ExecutionStatus,\n  /** The epoch when this transaction was executed */\n  executedEpoch: EpochId,\n  /** The version that every modified (mutated or deleted) object had before it was modified by this transaction. **/\n  modifiedAtVersions: optional(array(TransactionEffectsModifiedAtVersions)),\n  gasUsed: GasCostSummary,\n  /** The object references of the shared objects used in this transaction. Empty if no shared objects were used. */\n  sharedObjects: optional(array(SuiObjectRef)),\n  /** The transaction digest */\n  transactionDigest: TransactionDigest,\n  /** ObjectRef and owner of new objects created */\n  created: optional(array(OwnedObjectRef)),\n  /** ObjectRef and owner of mutated objects, including gas object */\n  mutated: optional(array(OwnedObjectRef)),\n  /**\n   * ObjectRef and owner of objects that are unwrapped in this transaction.\n   * Unwrapped objects are objects that were wrapped into other objects in the past,\n   * and just got extracted out.\n   */\n  unwrapped: optional(array(OwnedObjectRef)),\n  /** Object Refs of objects now deleted (the old refs) */\n  deleted: optional(array(SuiObjectRef)),\n  /** Object Refs of objects now deleted (the old refs) */\n  unwrappedThenDeleted: optional(array(SuiObjectRef)),\n  /** Object refs of objects now wrapped in other objects */\n  wrapped: optional(array(SuiObjectRef)),\n  /**\n   * The updated gas object reference. Have a dedicated field for convenient access.\n   * It's also included in mutated.\n   */\n  gasObject: OwnedObjectRef,\n  /** The events emitted during execution. Note that only successful transactions emit events */\n  eventsDigest: optional(TransactionEventDigest),\n  /** The set of transaction digests this transaction depends on */\n  dependencies: optional(array(TransactionDigest)),\n});\nexport type TransactionEffects = Infer<typeof TransactionEffects>;\n\nexport const TransactionEvents = array(SuiEvent);\nexport type TransactionEvents = Infer<typeof TransactionEvents>;\n\nconst ReturnValueType = tuple([array(number()), string()]);\nconst MutableReferenceOutputType = tuple([\n  SuiArgument,\n  array(number()),\n  string(),\n]);\nconst ExecutionResultType = object({\n  mutableReferenceOutputs: optional(array(MutableReferenceOutputType)),\n  returnValues: optional(array(ReturnValueType)),\n});\n\nexport const DevInspectResults = object({\n  effects: TransactionEffects,\n  events: TransactionEvents,\n  results: optional(array(ExecutionResultType)),\n  error: optional(string()),\n});\nexport type DevInspectResults = Infer<typeof DevInspectResults>;\n\nexport type SuiTransactionBlockResponseQuery = {\n  filter?: TransactionFilter;\n  options?: SuiTransactionBlockResponseOptions;\n};\n\nexport type TransactionFilter =\n  | { Checkpoint: string }\n  | { FromAndToAddress: { from: string; to: string } }\n  | { TransactionKind: string }\n  | {\n      MoveFunction: {\n        package: ObjectId;\n        module: string | null;\n        function: string | null;\n      };\n    }\n  | { InputObject: ObjectId }\n  | { ChangedObject: ObjectId }\n  | { FromAddress: SuiAddress }\n  | { ToAddress: SuiAddress };\n\nexport type EmptySignInfo = object;\nexport type AuthorityName = Infer<typeof AuthorityName>;\nexport const AuthorityName = string();\n\nexport const SuiTransactionBlock = object({\n  data: SuiTransactionBlockData,\n  txSignatures: array(string()),\n});\nexport type SuiTransactionBlock = Infer<typeof SuiTransactionBlock>;\n\nexport const SuiObjectChangePublished = object({\n  type: literal('published'),\n  packageId: ObjectId,\n  version: SequenceNumber,\n  digest: ObjectDigest,\n  modules: array(string()),\n});\nexport type SuiObjectChangePublished = Infer<typeof SuiObjectChangePublished>;\n\nexport const SuiObjectChangeTransferred = object({\n  type: literal('transferred'),\n  sender: SuiAddress,\n  recipient: ObjectOwner,\n  objectType: string(),\n  objectId: ObjectId,\n  version: SequenceNumber,\n  digest: ObjectDigest,\n});\nexport type SuiObjectChangeTransferred = Infer<\n  typeof SuiObjectChangeTransferred\n>;\n\nexport const SuiObjectChangeMutated = object({\n  type: literal('mutated'),\n  sender: SuiAddress,\n  owner: ObjectOwner,\n  objectType: string(),\n  objectId: ObjectId,\n  version: SequenceNumber,\n  previousVersion: SequenceNumber,\n  digest: ObjectDigest,\n});\nexport type SuiObjectChangeMutated = Infer<typeof SuiObjectChangeMutated>;\n\nexport const SuiObjectChangeDeleted = object({\n  type: literal('deleted'),\n  sender: SuiAddress,\n  objectType: string(),\n  objectId: ObjectId,\n  version: SequenceNumber,\n});\nexport type SuiObjectChangeDeleted = Infer<typeof SuiObjectChangeDeleted>;\n\nexport const SuiObjectChangeWrapped = object({\n  type: literal('wrapped'),\n  sender: SuiAddress,\n  objectType: string(),\n  objectId: ObjectId,\n  version: SequenceNumber,\n});\nexport type SuiObjectChangeWrapped = Infer<typeof SuiObjectChangeWrapped>;\n\nexport const SuiObjectChangeCreated = object({\n  type: literal('created'),\n  sender: SuiAddress,\n  owner: ObjectOwner,\n  objectType: string(),\n  objectId: ObjectId,\n  version: SequenceNumber,\n  digest: ObjectDigest,\n});\nexport type SuiObjectChangeCreated = Infer<typeof SuiObjectChangeCreated>;\n\nexport const SuiObjectChange = union([\n  SuiObjectChangePublished,\n  SuiObjectChangeTransferred,\n  SuiObjectChangeMutated,\n  SuiObjectChangeDeleted,\n  SuiObjectChangeWrapped,\n  SuiObjectChangeCreated,\n]);\nexport type SuiObjectChange = Infer<typeof SuiObjectChange>;\n\nexport const BalanceChange = object({\n  owner: ObjectOwner,\n  coinType: string(),\n  /* Coin balance change(positive means receive, negative means send) */\n  amount: string(),\n});\n\nexport const SuiTransactionBlockResponse = object({\n  digest: TransactionDigest,\n  transaction: optional(SuiTransactionBlock),\n  effects: optional(TransactionEffects),\n  events: optional(TransactionEvents),\n  timestampMs: optional(string()),\n  checkpoint: optional(string()),\n  confirmedLocalExecution: optional(boolean()),\n  objectChanges: optional(array(SuiObjectChange)),\n  balanceChanges: optional(array(BalanceChange)),\n  /* Errors that occurred in fetching/serializing the transaction. */\n  errors: optional(array(string())),\n});\nexport type SuiTransactionBlockResponse = Infer<\n  typeof SuiTransactionBlockResponse\n>;\n\nexport const SuiTransactionBlockResponseOptions = object({\n  /* Whether to show transaction input data. Default to be false. */\n  showInput: optional(boolean()),\n  /* Whether to show transaction effects. Default to be false. */\n  showEffects: optional(boolean()),\n  /* Whether to show transaction events. Default to be false. */\n  showEvents: optional(boolean()),\n  /* Whether to show object changes. Default to be false. */\n  showObjectChanges: optional(boolean()),\n  /* Whether to show coin balance changes. Default to be false. */\n  showBalanceChanges: optional(boolean()),\n});\n\nexport type SuiTransactionBlockResponseOptions = Infer<\n  typeof SuiTransactionBlockResponseOptions\n>;\n\nexport const PaginatedTransactionResponse = object({\n  data: array(SuiTransactionBlockResponse),\n  nextCursor: nullable(TransactionDigest),\n  hasNextPage: boolean(),\n});\nexport type PaginatedTransactionResponse = Infer<\n  typeof PaginatedTransactionResponse\n>;\nexport const DryRunTransactionBlockResponse = object({\n  effects: TransactionEffects,\n  events: TransactionEvents,\n  objectChanges: array(SuiObjectChange),\n  balanceChanges: array(BalanceChange),\n  // TODO: Remove optional when this is rolled out to all networks:\n  input: optional(SuiTransactionBlockData),\n});\nexport type DryRunTransactionBlockResponse = Infer<\n  typeof DryRunTransactionBlockResponse\n>;\n\n/* -------------------------------------------------------------------------- */\n/*                              Helper functions                              */\n/* -------------------------------------------------------------------------- */\n\nexport function getTransaction(\n  tx: SuiTransactionBlockResponse,\n): SuiTransactionBlock | undefined {\n  return tx.transaction;\n}\n\nexport function getTransactionDigest(\n  tx: SuiTransactionBlockResponse,\n): TransactionDigest {\n  return tx.digest;\n}\n\nexport function getTransactionSignature(\n  tx: SuiTransactionBlockResponse,\n): string[] | undefined {\n  return tx.transaction?.txSignatures;\n}\n\n/* ----------------------------- TransactionData ---------------------------- */\n\nexport function getTransactionSender(\n  tx: SuiTransactionBlockResponse,\n): SuiAddress | undefined {\n  return tx.transaction?.data.sender;\n}\n\nexport function getGasData(\n  tx: SuiTransactionBlockResponse,\n): SuiGasData | undefined {\n  return tx.transaction?.data.gasData;\n}\n\nexport function getTransactionGasObject(\n  tx: SuiTransactionBlockResponse,\n): SuiObjectRef[] | undefined {\n  return getGasData(tx)?.payment;\n}\n\nexport function getTransactionGasPrice(tx: SuiTransactionBlockResponse) {\n  return getGasData(tx)?.price;\n}\n\nexport function getTransactionGasBudget(tx: SuiTransactionBlockResponse) {\n  return getGasData(tx)?.budget;\n}\n\nexport function getChangeEpochTransaction(\n  data: SuiTransactionBlockKind,\n): SuiChangeEpoch | undefined {\n  return data.kind === 'ChangeEpoch' ? data : undefined;\n}\n\nexport function getConsensusCommitPrologueTransaction(\n  data: SuiTransactionBlockKind,\n): SuiConsensusCommitPrologue | undefined {\n  return data.kind === 'ConsensusCommitPrologue' ? data : undefined;\n}\n\nexport function getTransactionKind(\n  data: SuiTransactionBlockResponse,\n): SuiTransactionBlockKind | undefined {\n  return data.transaction?.data.transaction;\n}\n\nexport function getTransactionKindName(\n  data: SuiTransactionBlockKind,\n): TransactionKindName {\n  return data.kind;\n}\n\nexport function getProgrammableTransaction(\n  data: SuiTransactionBlockKind,\n): ProgrammableTransaction | undefined {\n  return data.kind === 'ProgrammableTransaction' ? data : undefined;\n}\n\n/* ----------------------------- ExecutionStatus ---------------------------- */\n\nexport function getExecutionStatusType(\n  data: SuiTransactionBlockResponse,\n): ExecutionStatusType | undefined {\n  return getExecutionStatus(data)?.status;\n}\n\nexport function getExecutionStatus(\n  data: SuiTransactionBlockResponse,\n): ExecutionStatus | undefined {\n  return getTransactionEffects(data)?.status;\n}\n\nexport function getExecutionStatusError(\n  data: SuiTransactionBlockResponse,\n): string | undefined {\n  return getExecutionStatus(data)?.error;\n}\n\nexport function getExecutionStatusGasSummary(\n  data: SuiTransactionBlockResponse | TransactionEffects,\n): GasCostSummary | undefined {\n  if (is(data, TransactionEffects)) {\n    return data.gasUsed;\n  }\n  return getTransactionEffects(data)?.gasUsed;\n}\n\nexport function getTotalGasUsed(\n  data: SuiTransactionBlockResponse | TransactionEffects,\n): bigint | undefined {\n  const gasSummary = getExecutionStatusGasSummary(data);\n  return gasSummary\n    ? BigInt(gasSummary.computationCost) +\n        BigInt(gasSummary.storageCost) -\n        BigInt(gasSummary.storageRebate)\n    : undefined;\n}\n\nexport function getTotalGasUsedUpperBound(\n  data: SuiTransactionBlockResponse | TransactionEffects,\n): bigint | undefined {\n  const gasSummary = getExecutionStatusGasSummary(data);\n  return gasSummary\n    ? BigInt(gasSummary.computationCost) + BigInt(gasSummary.storageCost)\n    : undefined;\n}\n\nexport function getTransactionEffects(\n  data: SuiTransactionBlockResponse,\n): TransactionEffects | undefined {\n  return data.effects;\n}\n\n/* ---------------------------- Transaction Effects --------------------------- */\n\nexport function getEvents(\n  data: SuiTransactionBlockResponse,\n): SuiEvent[] | undefined {\n  return data.events;\n}\n\nexport function getCreatedObjects(\n  data: SuiTransactionBlockResponse,\n): OwnedObjectRef[] | undefined {\n  return getTransactionEffects(data)?.created;\n}\n\n/* --------------------------- TransactionResponse -------------------------- */\n\nexport function getTimestampFromTransactionResponse(\n  data: SuiTransactionBlockResponse,\n): string | undefined {\n  return data.timestampMs ?? undefined;\n}\n\n/**\n * Get the newly created coin refs after a split.\n */\nexport function getNewlyCreatedCoinRefsAfterSplit(\n  data: SuiTransactionBlockResponse,\n): SuiObjectRef[] | undefined {\n  return getTransactionEffects(data)?.created?.map((c) => c.reference);\n}\n\nexport function getObjectChanges(\n  data: SuiTransactionBlockResponse,\n): SuiObjectChange[] | undefined {\n  return data.objectChanges;\n}\n\nexport function getPublishedObjectChanges(\n  data: SuiTransactionBlockResponse,\n): SuiObjectChangePublished[] {\n  return (\n    (data.objectChanges?.filter((a) =>\n      is(a, SuiObjectChangePublished),\n    ) as SuiObjectChangePublished[]) ?? []\n  );\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nexport type Option<T> =\n  | T\n  | {\n      fields: {\n        vec: '';\n      };\n      type: string;\n    };\n\nexport function getOption<T>(option: Option<T>): T | undefined {\n  if (\n    typeof option === 'object' &&\n    option !== null &&\n    'type' in option &&\n    option.type.startsWith('0x1::option::Option<')\n  ) {\n    return undefined;\n  }\n  return option as T;\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  getObjectFields,\n  SuiObjectResponse,\n  SuiMoveObject,\n  SuiObjectInfo,\n  SuiObjectData,\n  getObjectId,\n  getObjectType,\n} from '../types/objects';\nimport { normalizeSuiObjectId, ObjectId, SuiAddress } from '../types/common';\n\nimport { getOption, Option } from '../types/option';\nimport { CoinStruct } from '../types/coin';\nimport { StructTag } from '../types/sui-bcs';\nimport { Infer, nullable, number, object, string } from 'superstruct';\n\nexport const SUI_SYSTEM_ADDRESS = '0x3';\nexport const SUI_FRAMEWORK_ADDRESS = '0x2';\nexport const MOVE_STDLIB_ADDRESS = '0x1';\nexport const OBJECT_MODULE_NAME = 'object';\nexport const UID_STRUCT_NAME = 'UID';\nexport const ID_STRUCT_NAME = 'ID';\nexport const SUI_TYPE_ARG = `${SUI_FRAMEWORK_ADDRESS}::sui::SUI`;\nexport const VALIDATORS_EVENTS_QUERY =\n  '0x3::validator_set::ValidatorEpochInfoEventV2';\n\nexport const SUI_CLOCK_OBJECT_ID = normalizeSuiObjectId('0x6');\n\n// `sui::pay` module is used for Coin management (split, join, join_and_transfer etc);\nexport const PAY_MODULE_NAME = 'pay';\nexport const PAY_SPLIT_COIN_VEC_FUNC_NAME = 'split_vec';\nexport const PAY_JOIN_COIN_FUNC_NAME = 'join';\nexport const COIN_TYPE_ARG_REGEX = /^0x2::coin::Coin<(.+)>$/;\n\ntype ObjectData = ObjectDataFull | SuiObjectInfo;\ntype ObjectDataFull = SuiObjectResponse | SuiMoveObject;\n\nexport function isObjectDataFull(\n  resp: ObjectData | ObjectDataFull,\n): resp is SuiObjectResponse {\n  return !!(resp as SuiObjectResponse).data || !!(resp as SuiMoveObject).type;\n}\n\nexport const CoinMetadataStruct = object({\n  decimals: number(),\n  name: string(),\n  symbol: string(),\n  description: string(),\n  iconUrl: nullable(string()),\n  id: nullable(ObjectId),\n});\n\nexport type CoinMetadata = Infer<typeof CoinMetadataStruct>;\n\n/**\n * Utility class for 0x2::coin\n * as defined in https://github.com/MystenLabs/sui/blob/ca9046fd8b1a9e8634a4b74b0e7dabdc7ea54475/sui_programmability/framework/sources/Coin.move#L4\n */\nexport class Coin {\n  static isCoin(data: ObjectData): boolean {\n    return Coin.getType(data)?.match(COIN_TYPE_ARG_REGEX) != null;\n  }\n\n  static getCoinType(type: string) {\n    const [, res] = type.match(COIN_TYPE_ARG_REGEX) ?? [];\n    return res || null;\n  }\n\n  static getCoinTypeArg(obj: ObjectData) {\n    const type = Coin.getType(obj);\n    return type ? Coin.getCoinType(type) : null;\n  }\n\n  static isSUI(obj: ObjectData) {\n    const arg = Coin.getCoinTypeArg(obj);\n    return arg ? Coin.getCoinSymbol(arg) === 'SUI' : false;\n  }\n\n  static getCoinSymbol(coinTypeArg: string) {\n    return coinTypeArg.substring(coinTypeArg.lastIndexOf(':') + 1);\n  }\n\n  static getCoinStructTag(coinTypeArg: string): StructTag {\n    return {\n      address: normalizeSuiObjectId(coinTypeArg.split('::')[0]),\n      module: coinTypeArg.split('::')[1],\n      name: coinTypeArg.split('::')[2],\n      typeParams: [],\n    };\n  }\n\n  public static getID(obj: ObjectData): ObjectId {\n    if ('fields' in obj) {\n      return obj.fields.id.id;\n    }\n    return getObjectId(obj);\n  }\n\n  static totalBalance(coins: CoinStruct[]): bigint {\n    return coins.reduce(\n      (partialSum, c) => partialSum + Coin.getBalanceFromCoinStruct(c),\n      BigInt(0),\n    );\n  }\n\n  /**\n   * Sort coin by balance in an ascending order\n   */\n  static sortByBalance(coins: CoinStruct[]): CoinStruct[] {\n    return [...coins].sort((a, b) =>\n      Coin.getBalanceFromCoinStruct(a) < Coin.getBalanceFromCoinStruct(b)\n        ? -1\n        : Coin.getBalanceFromCoinStruct(a) > Coin.getBalanceFromCoinStruct(b)\n        ? 1\n        : 0,\n    );\n  }\n\n  static getBalanceFromCoinStruct(coin: CoinStruct): bigint {\n    return BigInt(coin.balance);\n  }\n\n  static getBalance(data: ObjectDataFull): bigint | undefined {\n    if (!Coin.isCoin(data)) {\n      return undefined;\n    }\n    const balance = getObjectFields(data)?.balance;\n    return BigInt(balance);\n  }\n\n  private static getType(data: ObjectData): string | undefined {\n    if (isObjectDataFull(data)) {\n      return getObjectType(data);\n    }\n    return data.type;\n  }\n}\n\nexport type DelegationData = SuiMoveObject & {\n  dataType: 'moveObject';\n  type: '0x2::delegation::Delegation';\n  fields: {\n    active_delegation: Option<number>;\n    delegate_amount: number;\n    next_reward_unclaimed_epoch: number;\n    validator_address: SuiAddress;\n    info: {\n      id: string;\n      version: number;\n    };\n    // TODO (jian): clean up after 0.34\n    coin_locked_until_epoch: Option<SuiMoveObject>;\n    ending_epoch: Option<number>;\n  };\n};\n\nexport type DelegationSuiObject = Omit<SuiObjectData, 'data'> & {\n  data: DelegationData;\n};\n\n// Class for delegation.move\n// see https://github.com/MystenLabs/fastnft/blob/161aa27fe7eb8ecf2866ec9eb192e768f25da768/crates/sui-framework/sources/governance/delegation.move\nexport class Delegation {\n  public static readonly SUI_OBJECT_TYPE = '0x2::delegation::Delegation';\n  private suiObject: DelegationSuiObject;\n\n  public static isDelegationSuiObject(\n    obj: SuiObjectData,\n  ): obj is DelegationSuiObject {\n    return 'type' in obj && obj.type === Delegation.SUI_OBJECT_TYPE;\n  }\n\n  constructor(obj: DelegationSuiObject) {\n    this.suiObject = obj;\n  }\n\n  public nextRewardUnclaimedEpoch() {\n    return this.suiObject.data.fields.next_reward_unclaimed_epoch;\n  }\n\n  public activeDelegation() {\n    return BigInt(getOption(this.suiObject.data.fields.active_delegation) || 0);\n  }\n\n  public delegateAmount() {\n    return this.suiObject.data.fields.delegate_amount;\n  }\n\n  public endingEpoch() {\n    return getOption(this.suiObject.data.fields.ending_epoch);\n  }\n\n  public validatorAddress() {\n    return this.suiObject.data.fields.validator_address;\n  }\n\n  public isActive() {\n    return this.activeDelegation() > 0 && !this.endingEpoch();\n  }\n\n  public hasUnclaimedRewards(epoch: number) {\n    return (\n      this.nextRewardUnclaimedEpoch() <= epoch &&\n      (this.isActive() || (this.endingEpoch() || 0) > epoch)\n    );\n  }\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  BCS,\n  EnumTypeDefinition,\n  getSuiMoveConfig,\n  StructTypeDefinition,\n} from '@mysten/bcs';\nimport { SuiObjectRef } from './objects';\n\n/**\n * A reference to a shared object.\n */\nexport type SharedObjectRef = {\n  /** Hex code as string representing the object id */\n  objectId: string;\n\n  /** The version the object was shared at */\n  initialSharedVersion: number | string;\n\n  /** Whether reference is mutable */\n  mutable: boolean;\n};\n\n/**\n * An object argument.\n */\nexport type ObjectArg =\n  | { ImmOrOwned: SuiObjectRef }\n  | { Shared: SharedObjectRef };\n\n/**\n * A pure argument.\n */\nexport type PureArg = { Pure: ArrayLike<number> };\n\nexport function isPureArg(arg: any): arg is PureArg {\n  return (arg as PureArg).Pure !== undefined;\n}\n\n/**\n * An argument for the transaction. It is a 'meant' enum which expects to have\n * one of the optional properties. If not, the BCS error will be thrown while\n * attempting to form a transaction.\n *\n * Example:\n * ```js\n * let arg1: CallArg = { Object: { Shared: {\n *   objectId: '5460cf92b5e3e7067aaace60d88324095fd22944',\n *   initialSharedVersion: 1,\n *   mutable: true,\n * } } };\n * let arg2: CallArg = { Pure: bcs.ser(BCS.STRING, 100000).toBytes() };\n * let arg3: CallArg = { Object: { ImmOrOwned: {\n *   objectId: '4047d2e25211d87922b6650233bd0503a6734279',\n *   version: 1,\n *   digest: 'bCiANCht4O9MEUhuYjdRCqRPZjr2rJ8MfqNiwyhmRgA='\n * } } };\n * ```\n *\n * For `Pure` arguments BCS is required. You must encode the values with BCS according\n * to the type required by the called function. Pure accepts only serialized values\n */\nexport type CallArg = PureArg | { Object: ObjectArg };\n\n/**\n * Kind of a TypeTag which is represented by a Move type identifier.\n */\nexport type StructTag = {\n  address: string;\n  module: string;\n  name: string;\n  typeParams: TypeTag[];\n};\n\n/**\n * Sui TypeTag object. A decoupled `0x...::module::Type<???>` parameter.\n */\nexport type TypeTag =\n  | { bool: null }\n  | { u8: null }\n  | { u64: null }\n  | { u128: null }\n  | { address: null }\n  | { signer: null }\n  | { vector: TypeTag }\n  | { struct: StructTag }\n  | { u16: null }\n  | { u32: null }\n  | { u256: null };\n\n// ========== TransactionData ===========\n\n/**\n * The GasData to be used in the transaction.\n */\nexport type GasData = {\n  payment: SuiObjectRef[];\n  owner: string; // Gas Object's owner\n  price: number;\n  budget: number;\n};\n\n/**\n * TransactionExpiration\n *\n * Indications the expiration time for a transaction.\n */\nexport type TransactionExpiration = { None: null } | { Epoch: number };\n\n// Move name of the Vector type.\nconst VECTOR = 'vector';\n\n// Imported to explicitly tell typescript that types match\ntype TypeSchema = {\n  structs?: { [key: string]: StructTypeDefinition };\n  enums?: { [key: string]: EnumTypeDefinition };\n  aliases?: { [key: string]: string };\n};\n\nconst TransactionDataV1 = {\n  kind: 'TransactionKind',\n  sender: BCS.ADDRESS,\n  gasData: 'GasData',\n  expiration: 'TransactionExpiration',\n};\n\nconst BCS_SPEC: TypeSchema = {\n  enums: {\n    'Option<T>': {\n      None: null,\n      Some: 'T',\n    },\n    ObjectArg: {\n      ImmOrOwned: 'SuiObjectRef',\n      Shared: 'SharedObjectRef',\n    },\n    CallArg: {\n      Pure: [VECTOR, BCS.U8],\n      Object: 'ObjectArg',\n      ObjVec: [VECTOR, 'ObjectArg'],\n    },\n    TypeTag: {\n      bool: null,\n      u8: null,\n      u64: null,\n      u128: null,\n      address: null,\n      signer: null,\n      vector: 'TypeTag',\n      struct: 'StructTag',\n      u16: null,\n      u32: null,\n      u256: null,\n    },\n    TransactionKind: {\n      // can not be called from sui.js; dummy placement\n      // to set the enum counter right for ProgrammableTransact\n      ProgrammableTransaction: 'ProgrammableTransaction',\n      ChangeEpoch: null,\n      Genesis: null,\n      ConsensusCommitPrologue: null,\n    },\n    TransactionExpiration: {\n      None: null,\n      Epoch: BCS.U64,\n    },\n    TransactionData: {\n      V1: 'TransactionDataV1',\n    },\n  },\n  structs: {\n    SuiObjectRef: {\n      objectId: BCS.ADDRESS,\n      version: BCS.U64,\n      digest: 'ObjectDigest',\n    },\n    SharedObjectRef: {\n      objectId: BCS.ADDRESS,\n      initialSharedVersion: BCS.U64,\n      mutable: BCS.BOOL,\n    },\n    StructTag: {\n      address: BCS.ADDRESS,\n      module: BCS.STRING,\n      name: BCS.STRING,\n      typeParams: [VECTOR, 'TypeTag'],\n    },\n    GasData: {\n      payment: [VECTOR, 'SuiObjectRef'],\n      owner: BCS.ADDRESS,\n      price: BCS.U64,\n      budget: BCS.U64,\n    },\n    // Signed transaction data needed to generate transaction digest.\n    SenderSignedData: {\n      data: 'TransactionData',\n      txSignatures: [VECTOR, [VECTOR, BCS.U8]],\n    },\n    TransactionDataV1,\n  },\n  aliases: {\n    ObjectDigest: BCS.BASE58,\n  },\n};\n\nconst bcs = new BCS({ ...getSuiMoveConfig(), types: BCS_SPEC });\n\nbcs.registerType(\n  'utf8string',\n  (writer, str) => {\n    const bytes = Array.from(new TextEncoder().encode(str));\n    return writer.writeVec(bytes, (writer, el) => writer.write8(el));\n  },\n  (reader) => {\n    let bytes = reader.readVec((reader) => reader.read8());\n    return new TextDecoder().decode(new Uint8Array(bytes));\n  },\n);\n\nexport { bcs };\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { array, nullable, number, object, Infer, string } from 'superstruct';\nimport { TransactionDigest, ObjectId } from './common';\n\nexport const FaucetCoinInfo = object({\n  amount: number(),\n  id: ObjectId,\n  transferTxDigest: TransactionDigest,\n});\n\nexport type FaucetCoinInfo = Infer<typeof FaucetCoinInfo>;\n\nexport const FaucetResponse = object({\n  transferredGasObjects: array(FaucetCoinInfo),\n  error: nullable(string()),\n});\n\nexport type FaucetResponse = Infer<typeof FaucetResponse>;\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  array,\n  Infer,\n  object,\n  string,\n  union,\n  boolean,\n  define,\n  number,\n  literal,\n  record,\n  is,\n  tuple,\n} from 'superstruct';\n\nexport type SuiMoveFunctionArgTypesResponse = Infer<\n  typeof SuiMoveFunctionArgType\n>[];\n\nexport const SuiMoveFunctionArgType = union([\n  string(),\n  object({ Object: string() }),\n]);\n\nexport const SuiMoveFunctionArgTypes = array(SuiMoveFunctionArgType);\nexport type SuiMoveFunctionArgTypes = Infer<typeof SuiMoveFunctionArgTypes>;\n\nexport const SuiMoveModuleId = object({\n  address: string(),\n  name: string(),\n});\nexport type SuiMoveModuleId = Infer<typeof SuiMoveModuleId>;\n\nexport const SuiMoveVisibility = union([\n  literal('Private'),\n  literal('Public'),\n  literal('Friend'),\n]);\nexport type SuiMoveVisibility = Infer<typeof SuiMoveVisibility>;\n\nexport const SuiMoveAbilitySet = object({\n  abilities: array(string()),\n});\nexport type SuiMoveAbilitySet = Infer<typeof SuiMoveAbilitySet>;\n\nexport const SuiMoveStructTypeParameter = object({\n  constraints: SuiMoveAbilitySet,\n  isPhantom: boolean(),\n});\nexport type SuiMoveStructTypeParameter = Infer<\n  typeof SuiMoveStructTypeParameter\n>;\n\nexport const SuiMoveNormalizedTypeParameterType = object({\n  TypeParameter: number(),\n});\nexport type SuiMoveNormalizedTypeParameterType = Infer<\n  typeof SuiMoveNormalizedTypeParameterType\n>;\n\nexport type SuiMoveNormalizedType =\n  | string\n  | SuiMoveNormalizedTypeParameterType\n  | { Reference: SuiMoveNormalizedType }\n  | { MutableReference: SuiMoveNormalizedType }\n  | { Vector: SuiMoveNormalizedType }\n  | SuiMoveNormalizedStructType;\n\nexport const MoveCallMetric = tuple([\n  object({\n    module: string(),\n    package: string(),\n    function: string(),\n  }),\n  string(),\n]);\n\nexport type MoveCallMetric = Infer<typeof MoveCallMetric>;\n\nexport const MoveCallMetrics = object({\n  rank3Days: array(MoveCallMetric),\n  rank7Days: array(MoveCallMetric),\n  rank30Days: array(MoveCallMetric),\n});\n\nexport type MoveCallMetrics = Infer<typeof MoveCallMetrics>;\n\nfunction isSuiMoveNormalizedType(\n  value: unknown,\n): value is SuiMoveNormalizedType {\n  if (!value) return false;\n  if (typeof value === 'string') return true;\n  if (is(value, SuiMoveNormalizedTypeParameterType)) return true;\n  if (isSuiMoveNormalizedStructType(value)) return true;\n  if (typeof value !== 'object') return false;\n\n  const valueProperties = value as Record<string, unknown>;\n  if (is(valueProperties.Reference, SuiMoveNormalizedType)) return true;\n  if (is(valueProperties.MutableReference, SuiMoveNormalizedType)) return true;\n  if (is(valueProperties.Vector, SuiMoveNormalizedType)) return true;\n  return false;\n}\n\nexport const SuiMoveNormalizedType = define<SuiMoveNormalizedType>(\n  'SuiMoveNormalizedType',\n  isSuiMoveNormalizedType,\n);\n\nexport type SuiMoveNormalizedStructType = {\n  Struct: {\n    address: string;\n    module: string;\n    name: string;\n    typeArguments: SuiMoveNormalizedType[];\n  };\n};\n\nfunction isSuiMoveNormalizedStructType(\n  value: unknown,\n): value is SuiMoveNormalizedStructType {\n  if (!value || typeof value !== 'object') return false;\n\n  const valueProperties = value as Record<string, unknown>;\n  if (!valueProperties.Struct || typeof valueProperties.Struct !== 'object')\n    return false;\n\n  const structProperties = valueProperties.Struct as Record<string, unknown>;\n  if (\n    typeof structProperties.address !== 'string' ||\n    typeof structProperties.module !== 'string' ||\n    typeof structProperties.name !== 'string' ||\n    !Array.isArray(structProperties.typeArguments) ||\n    !structProperties.typeArguments.every((value) =>\n      isSuiMoveNormalizedType(value),\n    )\n  ) {\n    return false;\n  }\n\n  return true;\n}\n\n// NOTE: This type is recursive, so we need to manually implement it:\nexport const SuiMoveNormalizedStructType = define<SuiMoveNormalizedStructType>(\n  'SuiMoveNormalizedStructType',\n  isSuiMoveNormalizedStructType,\n);\n\nexport const SuiMoveNormalizedFunction = object({\n  visibility: SuiMoveVisibility,\n  isEntry: boolean(),\n  typeParameters: array(SuiMoveAbilitySet),\n  parameters: array(SuiMoveNormalizedType),\n  return: array(SuiMoveNormalizedType),\n});\nexport type SuiMoveNormalizedFunction = Infer<typeof SuiMoveNormalizedFunction>;\n\nexport const SuiMoveNormalizedField = object({\n  name: string(),\n  type: SuiMoveNormalizedType,\n});\nexport type SuiMoveNormalizedField = Infer<typeof SuiMoveNormalizedField>;\n\nexport const SuiMoveNormalizedStruct = object({\n  abilities: SuiMoveAbilitySet,\n  typeParameters: array(SuiMoveStructTypeParameter),\n  fields: array(SuiMoveNormalizedField),\n});\nexport type SuiMoveNormalizedStruct = Infer<typeof SuiMoveNormalizedStruct>;\n\nexport const SuiMoveNormalizedModule = object({\n  fileFormatVersion: number(),\n  address: string(),\n  name: string(),\n  friends: array(SuiMoveModuleId),\n  structs: record(string(), SuiMoveNormalizedStruct),\n  exposedFunctions: record(string(), SuiMoveNormalizedFunction),\n});\nexport type SuiMoveNormalizedModule = Infer<typeof SuiMoveNormalizedModule>;\n\nexport const SuiMoveNormalizedModules = record(\n  string(),\n  SuiMoveNormalizedModule,\n);\nexport type SuiMoveNormalizedModules = Infer<typeof SuiMoveNormalizedModules>;\n\nexport function extractMutableReference(\n  normalizedType: SuiMoveNormalizedType,\n): SuiMoveNormalizedType | undefined {\n  return typeof normalizedType === 'object' &&\n    'MutableReference' in normalizedType\n    ? normalizedType.MutableReference\n    : undefined;\n}\n\nexport function extractReference(\n  normalizedType: SuiMoveNormalizedType,\n): SuiMoveNormalizedType | undefined {\n  return typeof normalizedType === 'object' && 'Reference' in normalizedType\n    ? normalizedType.Reference\n    : undefined;\n}\n\nexport function extractStructTag(\n  normalizedType: SuiMoveNormalizedType,\n): SuiMoveNormalizedStructType | undefined {\n  if (typeof normalizedType === 'object' && 'Struct' in normalizedType) {\n    return normalizedType;\n  }\n\n  const ref = extractReference(normalizedType);\n  const mutRef = extractMutableReference(normalizedType);\n\n  if (typeof ref === 'object' && 'Struct' in ref) {\n    return ref;\n  }\n\n  if (typeof mutRef === 'object' && 'Struct' in mutRef) {\n    return mutRef;\n  }\n  return undefined;\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  array,\n  boolean,\n  literal,\n  number,\n  object,\n  string,\n  union,\n  Infer,\n  nullable,\n  tuple,\n  optional,\n} from 'superstruct';\nimport { ObjectId, SuiAddress } from './common';\nimport { AuthorityName, EpochId } from './transactions';\n\n/* -------------- Types for the SuiSystemState Rust definition -------------- */\n\nexport type DelegatedStake = Infer<typeof DelegatedStake>;\nexport type CommitteeInfo = Infer<typeof CommitteeInfo>;\nexport type StakeObject = Infer<typeof StakeObject>;\n\n// APY Response\nexport const Apy = object({\n  apy: number(),\n  address: SuiAddress,\n});\n\nexport const ValidatorsApy = object({\n  epoch: string(),\n  apys: array(Apy),\n});\n\nexport type ValidatorsApy = Infer<typeof ValidatorsApy>;\n\n// Staking\nexport const Balance = object({\n  value: number(),\n});\n\nexport const StakeObject = object({\n  stakedSuiId: ObjectId,\n  stakeRequestEpoch: EpochId,\n  stakeActiveEpoch: EpochId,\n  principal: string(),\n  status: union([literal('Active'), literal('Pending'), literal('Unstaked')]),\n  estimatedReward: optional(string()),\n});\n\nexport const DelegatedStake = object({\n  validatorAddress: SuiAddress,\n  stakingPool: ObjectId,\n  stakes: array(StakeObject),\n});\n\nexport const StakeSubsidyFields = object({\n  balance: object({ value: number() }),\n  distribution_counter: number(),\n  current_distribution_amount: number(),\n  stake_subsidy_period_length: number(),\n  stake_subsidy_decrease_rate: number(),\n});\n\nexport const StakeSubsidy = object({\n  type: string(),\n  fields: StakeSubsidyFields,\n});\n\nexport const SuiSupplyFields = object({\n  value: number(),\n});\n\nexport const ContentsFields = object({\n  id: string(),\n  size: number(),\n  head: object({ vec: array() }),\n  tail: object({ vec: array() }),\n});\n\nexport const ContentsFieldsWithdraw = object({\n  id: string(),\n  size: number(),\n});\n\nexport const Contents = object({\n  type: string(),\n  fields: ContentsFields,\n});\n\nexport const DelegationStakingPoolFields = object({\n  exchangeRates: object({\n    id: string(),\n    size: number(),\n  }),\n  id: string(),\n  pendingStake: number(),\n  pendingPoolTokenWithdraw: number(),\n  pendingTotalSuiWithdraw: number(),\n  poolTokenBalance: number(),\n  rewardsPool: object({ value: number() }),\n  activationEpoch: object({ vec: array() }),\n  deactivationEpoch: object({ vec: array() }),\n  suiBalance: number(),\n});\n\nexport const DelegationStakingPool = object({\n  type: string(),\n  fields: DelegationStakingPoolFields,\n});\n\nexport const Validators = array(tuple([AuthorityName, string()]));\n\nexport const CommitteeInfo = object({\n  epoch: EpochId,\n  /** Array of (validator public key, stake unit) tuple */\n  validators: Validators,\n});\n\nexport const SuiValidatorSummary = object({\n  suiAddress: SuiAddress,\n  protocolPubkeyBytes: string(),\n  networkPubkeyBytes: string(),\n  workerPubkeyBytes: string(),\n  proofOfPossessionBytes: string(),\n  operationCapId: string(),\n  name: string(),\n  description: string(),\n  imageUrl: string(),\n  projectUrl: string(),\n  p2pAddress: string(),\n  netAddress: string(),\n  primaryAddress: string(),\n  workerAddress: string(),\n  nextEpochProtocolPubkeyBytes: nullable(string()),\n  nextEpochProofOfPossession: nullable(string()),\n  nextEpochNetworkPubkeyBytes: nullable(string()),\n  nextEpochWorkerPubkeyBytes: nullable(string()),\n  nextEpochNetAddress: nullable(string()),\n  nextEpochP2pAddress: nullable(string()),\n  nextEpochPrimaryAddress: nullable(string()),\n  nextEpochWorkerAddress: nullable(string()),\n  votingPower: string(),\n  gasPrice: string(),\n  commissionRate: string(),\n  nextEpochStake: string(),\n  nextEpochGasPrice: string(),\n  nextEpochCommissionRate: string(),\n  stakingPoolId: string(),\n  stakingPoolActivationEpoch: nullable(string()),\n  stakingPoolDeactivationEpoch: nullable(string()),\n  stakingPoolSuiBalance: string(),\n  rewardsPool: string(),\n  poolTokenBalance: string(),\n  pendingStake: string(),\n  pendingPoolTokenWithdraw: string(),\n  pendingTotalSuiWithdraw: string(),\n  exchangeRatesId: string(),\n  exchangeRatesSize: string(),\n});\n\nexport type SuiValidatorSummary = Infer<typeof SuiValidatorSummary>;\n\nexport const SuiSystemStateSummary = object({\n  epoch: string(),\n  protocolVersion: string(),\n  systemStateVersion: string(),\n  storageFundTotalObjectStorageRebates: string(),\n  storageFundNonRefundableBalance: string(),\n  referenceGasPrice: string(),\n  safeMode: boolean(),\n  safeModeStorageRewards: string(),\n  safeModeComputationRewards: string(),\n  safeModeStorageRebates: string(),\n  safeModeNonRefundableStorageFee: string(),\n  epochStartTimestampMs: string(),\n  epochDurationMs: string(),\n  stakeSubsidyStartEpoch: string(),\n  maxValidatorCount: string(),\n  minValidatorJoiningStake: string(),\n  validatorLowStakeThreshold: string(),\n  validatorVeryLowStakeThreshold: string(),\n  validatorLowStakeGracePeriod: string(),\n  stakeSubsidyBalance: string(),\n  stakeSubsidyDistributionCounter: string(),\n  stakeSubsidyCurrentDistributionAmount: string(),\n  stakeSubsidyPeriodLength: string(),\n  stakeSubsidyDecreaseRate: number(),\n  totalStake: string(),\n  activeValidators: array(SuiValidatorSummary),\n  pendingActiveValidatorsId: string(),\n  pendingActiveValidatorsSize: string(),\n  pendingRemovals: array(string()),\n  stakingPoolMappingsId: string(),\n  stakingPoolMappingsSize: string(),\n  inactivePoolsId: string(),\n  inactivePoolsSize: string(),\n  validatorCandidatesId: string(),\n  validatorCandidatesSize: string(),\n  atRiskValidators: array(tuple([SuiAddress, string()])),\n  validatorReportRecords: array(tuple([SuiAddress, array(SuiAddress)])),\n});\n\nexport type SuiSystemStateSummary = Infer<typeof SuiSystemStateSummary>;\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  array,\n  boolean,\n  Infer,\n  nullable,\n  number,\n  object,\n  optional,\n  string,\n} from 'superstruct';\nimport { ObjectId, TransactionDigest } from './common';\n\nexport const CoinStruct = object({\n  coinType: string(),\n  // TODO(chris): rename this to objectId\n  coinObjectId: ObjectId,\n  version: string(),\n  digest: TransactionDigest,\n  balance: string(),\n  // TODO (jian): remove this when we move to 0.34\n  lockedUntilEpoch: optional(nullable(number())),\n  previousTransaction: TransactionDigest,\n});\n\nexport type CoinStruct = Infer<typeof CoinStruct>;\n\nexport const PaginatedCoins = object({\n  data: array(CoinStruct),\n  nextCursor: nullable(ObjectId),\n  hasNextPage: boolean(),\n});\n\nexport type PaginatedCoins = Infer<typeof PaginatedCoins>;\n\nexport const CoinBalance = object({\n  coinType: string(),\n  coinObjectCount: number(),\n  totalBalance: string(),\n  lockedBalance: object({\n    epochId: optional(number()),\n    number: optional(number()),\n  }),\n});\n\nexport type CoinBalance = Infer<typeof CoinBalance>;\n\nexport const CoinSupply = object({\n  value: string(),\n});\n\nexport type CoinSupply = Infer<typeof CoinSupply>;\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\nimport {\n  array,\n  boolean,\n  Infer,\n  nullable,\n  number,\n  object,\n  string,\n} from 'superstruct';\nimport { SuiValidatorSummary } from './validator';\n\nexport const EndOfEpochInfo = object({\n  lastCheckpointId: string(),\n  epochEndTimestamp: string(),\n  protocolVersion: string(),\n  referenceGasPrice: string(),\n  totalStake: string(),\n  storageFundReinvestment: string(),\n  storageCharge: string(),\n  storageRebate: string(),\n  storageFundBalance: string(),\n  stakeSubsidyAmount: string(),\n  totalGasFees: string(),\n  totalStakeRewardsDistributed: string(),\n  leftoverStorageFundInflow: string(),\n});\n\nexport type EndOfEpochInfo = Infer<typeof EndOfEpochInfo>;\n\nexport const EpochInfo = object({\n  epoch: string(),\n  validators: array(SuiValidatorSummary),\n  epochTotalTransactions: string(),\n  firstCheckpointId: string(),\n  epochStartTimestamp: string(),\n  endOfEpochInfo: nullable(EndOfEpochInfo),\n  referenceGasPrice: nullable(number()),\n});\n\nexport type EpochInfo = Infer<typeof EpochInfo>;\n\nexport const EpochPage = object({\n  data: array(EpochInfo),\n  nextCursor: nullable(string()),\n  hasNextPage: boolean(),\n});\n\nexport type EpochPage = Infer<typeof EpochPage>;\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { Infer, number } from 'superstruct';\n\nexport const SubscriptionId = number();\nexport type SubscriptionId = Infer<typeof SubscriptionId>;\n\nexport type Unsubscribe = () => Promise<boolean>;\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { Infer, array, boolean, nullable, object, string } from 'superstruct';\nimport { ObjectId } from './common';\n\nexport const ResolvedNameServiceNames = object({\n  data: array(string()),\n  hasNextPage: boolean(),\n  nextCursor: nullable(ObjectId),\n});\nexport type ResolvedNameServiceNames = Infer<typeof ResolvedNameServiceNames>;\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  array,\n  Infer,\n  number,\n  object,\n  string,\n  tuple,\n  boolean,\n  optional,\n  any,\n  nullable,\n} from 'superstruct';\n\nimport { TransactionDigest, TransactionEffectsDigest } from './common';\n\nexport const GasCostSummary = object({\n  computationCost: string(),\n  storageCost: string(),\n  storageRebate: string(),\n  nonRefundableStorageFee: string(),\n});\nexport type GasCostSummary = Infer<typeof GasCostSummary>;\n\nexport const CheckPointContentsDigest = string();\nexport type CheckPointContentsDigest = Infer<typeof CheckPointContentsDigest>;\n\nexport const CheckpointDigest = string();\nexport type CheckpointDigest = Infer<typeof CheckpointDigest>;\n\nexport const ECMHLiveObjectSetDigest = object({\n  digest: array(number()),\n});\nexport type ECMHLiveObjectSetDigest = Infer<typeof ECMHLiveObjectSetDigest>;\n\nexport const CheckpointCommitment = any();\nexport type CheckpointCommitment = Infer<typeof CheckpointCommitment>;\n\nexport const ValidatorSignature = string();\nexport type ValidatorSignature = Infer<typeof ValidatorSignature>;\n\nexport const EndOfEpochData = object({\n  nextEpochCommittee: array(tuple([string(), string()])),\n  nextEpochProtocolVersion: string(),\n  epochCommitments: array(CheckpointCommitment),\n});\nexport type EndOfEpochData = Infer<typeof EndOfEpochData>;\n\nexport const ExecutionDigests = object({\n  transaction: TransactionDigest,\n  effects: TransactionEffectsDigest,\n});\n\nexport const Checkpoint = object({\n  epoch: string(),\n  sequenceNumber: string(),\n  digest: CheckpointDigest,\n  networkTotalTransactions: string(),\n  previousDigest: optional(CheckpointDigest),\n  epochRollingGasCostSummary: GasCostSummary,\n  timestampMs: string(),\n  endOfEpochData: optional(EndOfEpochData),\n  // TODO(jian): remove optional after 0.30.0 is released\n  validatorSignature: optional(ValidatorSignature),\n  transactions: array(TransactionDigest),\n  checkpointCommitments: array(CheckpointCommitment),\n});\nexport type Checkpoint = Infer<typeof Checkpoint>;\n\nexport const CheckpointPage = object({\n  data: array(Checkpoint),\n  nextCursor: nullable(string()),\n  hasNextPage: boolean(),\n});\nexport type CheckpointPage = Infer<typeof CheckpointPage>;\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { blake2b } from '@noble/hashes/blake2b';\nimport { fromB64, toB64 } from '@mysten/bcs';\nimport { bytesEqual, PublicKeyInitData } from './publickey';\nimport { SIGNATURE_SCHEME_TO_FLAG } from './signature';\nimport { normalizeSuiAddress, SUI_ADDRESS_LENGTH } from '../types';\nimport { bytesToHex } from '@noble/hashes/utils';\n\nconst PUBLIC_KEY_SIZE = 32;\n\n/**\n * An Ed25519 public key\n */\nexport class Ed25519PublicKey {\n  static SIZE = PUBLIC_KEY_SIZE;\n  private data: Uint8Array;\n\n  /**\n   * Create a new Ed25519PublicKey object\n   * @param value ed25519 public key as buffer or base-64 encoded string\n   */\n  constructor(value: PublicKeyInitData) {\n    if (typeof value === 'string') {\n      this.data = fromB64(value);\n    } else if (value instanceof Uint8Array) {\n      this.data = value;\n    } else {\n      this.data = Uint8Array.from(value);\n    }\n\n    if (this.data.length !== PUBLIC_KEY_SIZE) {\n      throw new Error(\n        `Invalid public key input. Expected ${PUBLIC_KEY_SIZE} bytes, got ${this.data.length}`,\n      );\n    }\n  }\n\n  /**\n   * Checks if two Ed25519 public keys are equal\n   */\n  equals(publicKey: Ed25519PublicKey): boolean {\n    return bytesEqual(this.toBytes(), publicKey.toBytes());\n  }\n\n  /**\n   * Return the base-64 representation of the Ed25519 public key\n   */\n  toBase64(): string {\n    return toB64(this.toBytes());\n  }\n\n  /**\n   * Return the byte array representation of the Ed25519 public key\n   */\n  toBytes(): Uint8Array {\n    return this.data;\n  }\n\n  /**\n   * Return the base-64 representation of the Ed25519 public key\n   */\n  toString(): string {\n    return this.toBase64();\n  }\n\n  /**\n   * Return the Sui address associated with this Ed25519 public key\n   */\n  toSuiAddress(): string {\n    let tmp = new Uint8Array(PUBLIC_KEY_SIZE + 1);\n    tmp.set([SIGNATURE_SCHEME_TO_FLAG['ED25519']]);\n    tmp.set(this.toBytes(), 1);\n    // Each hex char represents half a byte, hence hex address doubles the length\n    return normalizeSuiAddress(\n      bytesToHex(blake2b(tmp, { dkLen: 32 })).slice(0, SUI_ADDRESS_LENGTH * 2),\n    );\n  }\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { fromB64, toB64 } from '@mysten/bcs';\nimport { Ed25519PublicKey } from './ed25519-publickey';\nimport { PublicKey } from './publickey';\nimport { Secp256k1PublicKey } from './secp256k1-publickey';\n\n/**\n * A keypair used for signing transactions.\n */\nexport type SignatureScheme = 'ED25519' | 'Secp256k1';\n\n/**\n * Pair of signature and corresponding public key\n */\nexport type SignaturePubkeyPair = {\n  signatureScheme: SignatureScheme;\n  /** Base64-encoded signature */\n  signature: Uint8Array;\n  /** Base64-encoded public key */\n  pubKey: PublicKey;\n};\n\n/**\n * (`flag || signature || pubkey` bytes, as base-64 encoded string).\n * Signature is committed to the intent message of the transaction data, as base-64 encoded string.\n */\nexport type SerializedSignature = string;\n\nexport const SIGNATURE_SCHEME_TO_FLAG = {\n  ED25519: 0x00,\n  Secp256k1: 0x01,\n};\n\nexport const SIGNATURE_FLAG_TO_SCHEME = {\n  0x00: 'ED25519',\n  0x01: 'Secp256k1',\n} as const;\n\nexport function toSerializedSignature({\n  signature,\n  signatureScheme,\n  pubKey,\n}: SignaturePubkeyPair): SerializedSignature {\n  const serializedSignature = new Uint8Array(\n    1 + signature.length + pubKey.toBytes().length,\n  );\n  serializedSignature.set([SIGNATURE_SCHEME_TO_FLAG[signatureScheme]]);\n  serializedSignature.set(signature, 1);\n  serializedSignature.set(pubKey.toBytes(), 1 + signature.length);\n  return toB64(serializedSignature);\n}\n\nexport function fromSerializedSignature(\n  serializedSignature: SerializedSignature,\n): SignaturePubkeyPair {\n  const bytes = fromB64(serializedSignature);\n  const signatureScheme =\n    SIGNATURE_FLAG_TO_SCHEME[bytes[0] as keyof typeof SIGNATURE_FLAG_TO_SCHEME];\n\n  const PublicKey =\n    signatureScheme === 'ED25519' ? Ed25519PublicKey : Secp256k1PublicKey;\n\n  const signature = bytes.slice(1, bytes.length - PublicKey.SIZE);\n  const pubkeyBytes = bytes.slice(1 + signature.length);\n  const pubKey = new PublicKey(pubkeyBytes);\n\n  return {\n    signatureScheme,\n    signature,\n    pubKey,\n  };\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { Ed25519PublicKey } from './ed25519-publickey';\nimport { Secp256k1PublicKey } from './secp256k1-publickey';\nimport { SignatureScheme } from './signature';\n\n/**\n * Value to be converted into public key.\n */\nexport type PublicKeyInitData = string | Uint8Array | Iterable<number>;\n\nexport function bytesEqual(a: Uint8Array, b: Uint8Array) {\n  if (a === b) return true;\n\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  for (let i = 0; i < a.length; i++) {\n    if (a[i] !== b[i]) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/**\n * A public key\n */\nexport interface PublicKey {\n  /**\n   * Checks if two public keys are equal\n   */\n  equals(publicKey: PublicKey): boolean;\n\n  /**\n   * Return the base-64 representation of the public key\n   */\n  toBase64(): string;\n\n  /**\n   * Return the byte array representation of the public key\n   */\n  toBytes(): Uint8Array;\n\n  /**\n   * Return the base-64 representation of the public key\n   */\n  toString(): string;\n\n  /**\n   * Return the Sui address associated with this public key\n   */\n  toSuiAddress(): string;\n}\n\nexport function publicKeyFromSerialized(\n  schema: SignatureScheme,\n  pubKey: string,\n): PublicKey {\n  if (schema === 'ED25519') {\n    return new Ed25519PublicKey(pubKey);\n  }\n  if (schema === 'Secp256k1') {\n    return new Secp256k1PublicKey(pubKey);\n  }\n  throw new Error('Unknown public key schema');\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\nimport { toHEX } from '@mysten/bcs';\nimport { mnemonicToSeedSync as bip39MnemonicToSeedSync } from '@scure/bip39';\n\n/**\n * Parse and validate a path that is compliant to SLIP-0010 in form m/44'/784'/{account_index}'/{change_index}'/{address_index}'.\n *\n * @param path path string (e.g. `m/44'/784'/0'/0'/0'`).\n */\nexport function isValidHardenedPath(path: string): boolean {\n  if (\n    !new RegExp(\"^m\\\\/44'\\\\/784'\\\\/[0-9]+'\\\\/[0-9]+'\\\\/[0-9]+'+$\").test(path)\n  ) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * Parse and validate a path that is compliant to BIP-32 in form m/54'/784'/{account_index}'/{change_index}/{address_index}.\n * Note that the purpose for Secp256k1 is registered as 54, to differentiate from Ed25519 with purpose 44.\n *\n * @param path path string (e.g. `m/54'/784'/0'/0/0`).\n */\nexport function isValidBIP32Path(path: string): boolean {\n  if (!new RegExp(\"^m\\\\/54'\\\\/784'\\\\/[0-9]+'\\\\/[0-9]+\\\\/[0-9]+$\").test(path)) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * Uses KDF to derive 64 bytes of key data from mnemonic with empty password.\n *\n * @param mnemonics 12 words string split by spaces.\n */\nexport function mnemonicToSeed(mnemonics: string): Uint8Array {\n  return bip39MnemonicToSeedSync(mnemonics, '');\n}\n\n/**\n * Derive the seed in hex format from a 12-word mnemonic string.\n *\n * @param mnemonics 12 words string split by spaces.\n */\nexport function mnemonicToSeedHex(mnemonics: string): string {\n  return toHEX(mnemonicToSeed(mnemonics));\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\n// This is adapted from https://github.com/alepop/ed25519-hd-key replacing create-hmac\n// with @noble/hashes to be browser compatible.\n\nimport { sha512 } from '@noble/hashes/sha512';\nimport { hmac } from '@noble/hashes/hmac';\nimport nacl from 'tweetnacl';\nimport { fromHEX } from '@mysten/bcs';\n\ntype Hex = string;\ntype Path = string;\n\ntype Keys = {\n  key: Uint8Array;\n  chainCode: Uint8Array;\n};\n\nconst ED25519_CURVE = 'ed25519 seed';\nconst HARDENED_OFFSET = 0x80000000;\n\nexport const pathRegex = new RegExp(\"^m(\\\\/[0-9]+')+$\");\n\nexport const replaceDerive = (val: string): string => val.replace(\"'\", '');\n\nexport const getMasterKeyFromSeed = (seed: Hex): Keys => {\n  const h = hmac.create(sha512, ED25519_CURVE);\n  const I = h.update(fromHEX(seed)).digest();\n  const IL = I.slice(0, 32);\n  const IR = I.slice(32);\n  return {\n    key: IL,\n    chainCode: IR,\n  };\n};\n\nconst CKDPriv = ({ key, chainCode }: Keys, index: number): Keys => {\n  const indexBuffer = new ArrayBuffer(4);\n  const cv = new DataView(indexBuffer);\n  cv.setUint32(0, index);\n\n  const data = new Uint8Array(1 + key.length + indexBuffer.byteLength);\n  data.set(new Uint8Array(1).fill(0));\n  data.set(key, 1);\n  data.set(\n    new Uint8Array(indexBuffer, 0, indexBuffer.byteLength),\n    key.length + 1,\n  );\n\n  const I = hmac.create(sha512, chainCode).update(data).digest();\n  const IL = I.slice(0, 32);\n  const IR = I.slice(32);\n  return {\n    key: IL,\n    chainCode: IR,\n  };\n};\n\nexport const getPublicKey = (\n  privateKey: Uint8Array,\n  withZeroByte = true,\n): Uint8Array => {\n  const keyPair = nacl.sign.keyPair.fromSeed(privateKey);\n  const signPk = keyPair.secretKey.subarray(32);\n  const newArr = new Uint8Array(signPk.length + 1);\n  newArr.set([0]);\n  newArr.set(signPk, 1);\n  return withZeroByte ? newArr : signPk;\n};\n\nexport const isValidPath = (path: string): boolean => {\n  if (!pathRegex.test(path)) {\n    return false;\n  }\n  return !path\n    .split('/')\n    .slice(1)\n    .map(replaceDerive)\n    .some(isNaN as any /* ts T_T*/);\n};\n\nexport const derivePath = (\n  path: Path,\n  seed: Hex,\n  offset = HARDENED_OFFSET,\n): Keys => {\n  if (!isValidPath(path)) {\n    throw new Error('Invalid derivation path');\n  }\n\n  const { key, chainCode } = getMasterKeyFromSeed(seed);\n  const segments = path\n    .split('/')\n    .slice(1)\n    .map(replaceDerive)\n    .map((el) => parseInt(el, 10));\n\n  return segments.reduce(\n    (parentKeys, segment) => CKDPriv(parentKeys, segment + offset),\n    { key, chainCode },\n  );\n};\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { RequestManager, HTTPTransport, Client } from '@open-rpc/client-js';\nimport { Struct, validate } from 'superstruct';\nimport { PACKAGE_VERSION, TARGETED_RPC_VERSION } from '../version';\nimport { RPCValidationError } from '../utils/errors';\n\n/**\n * An object defining headers to be passed to the RPC server\n */\nexport type HttpHeaders = { [header: string]: string };\n\nexport class JsonRpcClient {\n  private rpcClient: Client;\n\n  constructor(url: string, httpHeaders?: HttpHeaders) {\n    const transport = new HTTPTransport(url, {\n      headers: {\n        'Content-Type': 'application/json',\n        'Client-Sdk-Type': 'typescript',\n        'Client-Sdk-Version': PACKAGE_VERSION,\n        'Client-Target-Api-Version': TARGETED_RPC_VERSION,\n        ...httpHeaders,\n      },\n    });\n\n    this.rpcClient = new Client(new RequestManager([transport]));\n  }\n\n  async requestWithType<T>(\n    method: string,\n    args: any[],\n    struct: Struct<T>,\n  ): Promise<T> {\n    const req = { method, args };\n\n    const response = await this.request(method, args);\n    const [err] = validate(response, struct);\n\n    if (err) {\n      console.warn(\n        new RPCValidationError({\n          req,\n          result: response,\n          cause: err,\n        }),\n      );\n    }\n\n    return response;\n  }\n\n  async request(method: string, params: any[]): Promise<any> {\n    return await this.rpcClient.request({ method, params });\n  }\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\n// This file is generated by genversion.mjs. Do not edit it directly.\n\nexport const PACKAGE_VERSION = '0.35.1';\nexport const TARGETED_RPC_VERSION = '1.4.0';\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\ninterface RPCErrorRequest {\n  method: string;\n  args: any[];\n}\n\nexport class RPCValidationError extends Error {\n  req: RPCErrorRequest;\n  result?: unknown;\n\n  constructor(options: {\n    req: RPCErrorRequest;\n    result?: unknown;\n    cause?: Error;\n  }) {\n    super(\n      'RPC Validation Error: The response returned from RPC server does not match the TypeScript definition. This is likely because the SDK version is not compatible with the RPC server.',\n      { cause: options.cause },\n    );\n\n    this.req = options.req;\n    this.result = options.result;\n    this.message = this.toString();\n  }\n\n  toString() {\n    let str = super.toString();\n    if (this.cause) {\n      str += `\\nCause: ${this.cause}`;\n    }\n    if (this.result) {\n      str += `\\nReponse Received: ${JSON.stringify(this.result, null, 2)}`;\n    }\n    return str;\n  }\n}\n\nexport class FaucetRateLimitError extends Error {}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  any,\n  array,\n  boolean,\n  Infer,\n  literal,\n  nullable,\n  number,\n  object,\n  string,\n  union,\n} from 'superstruct';\nimport { ObjectId } from './common';\n\nexport const DynamicFieldType = union([\n  literal('DynamicField'),\n  literal('DynamicObject'),\n]);\nexport type DynamicFieldType = Infer<typeof DynamicFieldType>;\n\nexport const DynamicFieldName = object({\n  type: string(),\n  value: any(),\n});\nexport type DynamicFieldName = Infer<typeof DynamicFieldName>;\n\nexport const DynamicFieldInfo = object({\n  name: DynamicFieldName,\n  bcsName: string(),\n  type: DynamicFieldType,\n  objectType: string(),\n  objectId: ObjectId,\n  version: number(),\n  digest: string(),\n});\nexport type DynamicFieldInfo = Infer<typeof DynamicFieldInfo>;\n\nexport const DynamicFieldPage = object({\n  data: array(DynamicFieldInfo),\n  nextCursor: nullable(ObjectId),\n  hasNextPage: boolean(),\n});\nexport type DynamicFieldPage = Infer<typeof DynamicFieldPage>;\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { SubscriptionId } from '../types';\nimport {\n  RequestManager,\n  Client,\n  WebSocketTransport,\n} from '@open-rpc/client-js';\n\nexport const getWebsocketUrl = (httpUrl: string, port?: number): string => {\n  const url = new URL(httpUrl);\n  url.protocol = url.protocol.replace('http', 'ws');\n  if (port) {\n    url.port = port.toString();\n  }\n  return url.toString();\n};\n\ntype NotificationMessageParams = {\n  subscription: SubscriptionId;\n  result: object;\n};\n\ntype SubscriptionRequest<T = any> = {\n  id?: number;\n  method: string;\n  unsubscribe: string;\n  params: any[];\n  onMessage: (event: T) => void;\n};\n\n/**\n * Configuration options for the websocket connection\n */\nexport type WebsocketClientOptions = {\n  /**\n   * Milliseconds before timing out while calling an RPC method\n   */\n  callTimeout: number;\n  /**\n   * Milliseconds between attempts to connect\n   */\n  reconnectTimeout: number;\n  /**\n   * Maximum number of times to try connecting before giving up\n   */\n  maxReconnects: number;\n};\n\nexport const DEFAULT_CLIENT_OPTIONS: WebsocketClientOptions = {\n  callTimeout: 30000,\n  reconnectTimeout: 3000,\n  maxReconnects: 5,\n};\n\nexport class WebsocketClient {\n  #client: Client | null;\n  #subscriptions: Map<SubscriptionId, SubscriptionRequest & { id: number }>;\n  #disconnects: number;\n\n  constructor(\n    public endpoint: string,\n    public options: WebsocketClientOptions = DEFAULT_CLIENT_OPTIONS,\n  ) {\n    if (this.endpoint.startsWith('http')) {\n      this.endpoint = getWebsocketUrl(this.endpoint);\n    }\n\n    this.#client = null;\n    this.#subscriptions = new Map();\n    this.#disconnects = 0;\n  }\n\n  #setupClient() {\n    if (this.#client) {\n      return this.#client;\n    }\n\n    const transport = new WebSocketTransport(this.endpoint);\n    const requestManager = new RequestManager([transport]);\n    this.#client = new Client(requestManager);\n\n    transport.connection.addEventListener('open', () => {\n      this.#disconnects = 0;\n    });\n\n    transport.connection.addEventListener('close', () => {\n      this.#disconnects++;\n      if (this.#disconnects <= this.options.maxReconnects) {\n        setTimeout(() => {\n          this.#reconnect();\n        }, this.options.reconnectTimeout);\n      }\n    });\n\n    this.#client.onNotification((data) => {\n      const params = data.params as NotificationMessageParams;\n\n      this.#subscriptions.forEach((subscription) => {\n        if (\n          subscription.method === data.method &&\n          params.subscription === subscription.id\n        ) {\n          subscription.onMessage(params.result);\n        }\n      });\n    });\n\n    return this.#client;\n  }\n\n  #reconnect() {\n    this.#client?.close();\n    this.#client = null;\n\n    this.#subscriptions.forEach((subscription) => this.request(subscription));\n  }\n\n  async request<T>(input: SubscriptionRequest<T>) {\n    const client = this.#setupClient();\n    const id = await client.request(\n      { method: input.method, params: input.params },\n      this.options.callTimeout,\n    );\n\n    // If an input ID is provided, this is a reconnect and we need to use that ID instead:\n    this.#subscriptions.set(input.id || id, {\n      ...input,\n      // Always set the latest actual subscription ID:\n      id,\n    });\n\n    return async () => {\n      const client = this.#setupClient();\n      // NOTE: Due to reconnects, the inner subscription ID could have actually changed:\n      const subscription = this.#subscriptions.get(id);\n      if (!subscription) return false;\n\n      this.#subscriptions.delete(id);\n\n      return client.request(\n        { method: input.unsubscribe, params: [subscription.id] },\n        this.options.callTimeout,\n      );\n    };\n  }\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { FaucetResponse, SuiAddress } from '../types';\nimport { FaucetRateLimitError } from '../utils/errors';\nimport { HttpHeaders } from './client';\n\nexport async function requestSuiFromFaucet(\n  endpoint: string,\n  recipient: SuiAddress,\n  httpHeaders?: HttpHeaders,\n): Promise<FaucetResponse> {\n  const res = await fetch(endpoint, {\n    method: 'POST',\n    body: JSON.stringify({\n      FixedAmountRequest: {\n        recipient,\n      },\n    }),\n    headers: {\n      'Content-Type': 'application/json',\n      ...(httpHeaders || {}),\n    },\n  });\n\n  if (res.status === 429) {\n    throw new FaucetRateLimitError(\n      `Too many requests from this client have been sent to the faucet. Please retry later`,\n    );\n  }\n  let parsed;\n  try {\n    parsed = await res.json();\n  } catch (e) {\n    throw new Error(\n      `Encountered error when parsing response from faucet, error: ${e}, status ${res.status}, response ${res}`,\n    );\n  }\n  if (parsed.error) {\n    throw new Error(`Faucet returns error: ${parsed.error}`);\n  }\n  return parsed;\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { HttpHeaders, JsonRpcClient } from '../rpc/client';\nimport {\n  ExecuteTransactionRequestType,\n  ObjectId,\n  PaginatedTransactionResponse,\n  SuiAddress,\n  SuiEventFilter,\n  SuiMoveFunctionArgTypes,\n  SuiMoveNormalizedFunction,\n  SuiMoveNormalizedModule,\n  SuiMoveNormalizedModules,\n  SuiMoveNormalizedStruct,\n  SuiTransactionBlockResponse,\n  TransactionDigest,\n  SuiTransactionBlockResponseQuery,\n  PaginatedEvents,\n  FaucetResponse,\n  Order,\n  DevInspectResults,\n  CoinMetadata,\n  isValidTransactionDigest,\n  isValidSuiAddress,\n  isValidSuiObjectId,\n  normalizeSuiAddress,\n  normalizeSuiObjectId,\n  CoinMetadataStruct,\n  PaginatedCoins,\n  SuiObjectResponse,\n  DelegatedStake,\n  CoinBalance,\n  CoinSupply,\n  CheckpointDigest,\n  Checkpoint,\n  CommitteeInfo,\n  DryRunTransactionBlockResponse,\n  SuiObjectDataOptions,\n  SuiSystemStateSummary,\n  SuiTransactionBlockResponseOptions,\n  SuiEvent,\n  PaginatedObjectsResponse,\n  SuiObjectResponseQuery,\n  ValidatorsApy,\n  MoveCallMetrics,\n  ObjectRead,\n  TransactionFilter,\n  TransactionEffects,\n  Unsubscribe,\n  ResolvedNameServiceNames,\n} from '../types';\nimport { DynamicFieldName, DynamicFieldPage } from '../types/dynamic_fields';\nimport {\n  DEFAULT_CLIENT_OPTIONS,\n  WebsocketClient,\n  WebsocketClientOptions,\n} from '../rpc/websocket-client';\nimport { requestSuiFromFaucet } from '../rpc/faucet-client';\nimport { any, array, string, nullable } from 'superstruct';\nimport { fromB58, toB64, toHEX } from '@mysten/bcs';\nimport { SerializedSignature } from '../cryptography/signature';\nimport { Connection, devnetConnection } from '../rpc/connection';\nimport { TransactionBlock } from '../builder';\nimport { CheckpointPage } from '../types/checkpoints';\nimport { NetworkMetrics, AddressMetrics } from '../types/metrics';\nimport { EpochInfo, EpochPage } from '../types/epochs';\n\nexport interface PaginationArguments<Cursor> {\n  /** Optional paging cursor */\n  cursor?: Cursor;\n  /** Maximum item returned per page */\n  limit?: number | null;\n}\n\nexport interface OrderArguments {\n  order?: Order | null;\n}\n\n/**\n * Configuration options for the JsonRpcProvider. If the value of a field is not provided,\n * value in `DEFAULT_OPTIONS` for that field will be used\n */\nexport type RpcProviderOptions = {\n  /**\n   * Configuration options for the websocket connection\n   * TODO: Move to connection.\n   */\n  socketOptions?: WebsocketClientOptions;\n  /**\n   * Cache timeout in seconds for the RPC API Version\n   */\n  versionCacheTimeoutInSeconds?: number;\n\n  /** Allow defining a custom RPC client to use */\n  rpcClient?: JsonRpcClient;\n\n  /** Allow defining a custom websocket client to use */\n  websocketClient?: WebsocketClient;\n};\n\nconst DEFAULT_OPTIONS: RpcProviderOptions = {\n  socketOptions: DEFAULT_CLIENT_OPTIONS,\n  versionCacheTimeoutInSeconds: 600,\n};\n\nexport class JsonRpcProvider {\n  public connection: Connection;\n  protected client: JsonRpcClient;\n  protected wsClient: WebsocketClient;\n  private rpcApiVersion: string | undefined;\n  private cacheExpiry: number | undefined;\n  /**\n   * Establish a connection to a Sui RPC endpoint\n   *\n   * @param connection The `Connection` object containing configuration for the network.\n   * @param options configuration options for the provider\n   */\n  constructor(\n    // TODO: Probably remove the default endpoint here:\n    connection: Connection = devnetConnection,\n    public options: RpcProviderOptions = DEFAULT_OPTIONS,\n  ) {\n    this.connection = connection;\n\n    const opts = { ...DEFAULT_OPTIONS, ...options };\n    this.options = opts;\n    // TODO: add header for websocket request\n    this.client = opts.rpcClient ?? new JsonRpcClient(this.connection.fullnode);\n\n    this.wsClient =\n      opts.websocketClient ??\n      new WebsocketClient(this.connection.websocket, opts.socketOptions);\n  }\n\n  async getRpcApiVersion(): Promise<string | undefined> {\n    if (\n      this.rpcApiVersion &&\n      this.cacheExpiry &&\n      this.cacheExpiry <= Date.now()\n    ) {\n      return this.rpcApiVersion;\n    }\n\n    try {\n      const resp = await this.client.requestWithType('rpc.discover', [], any());\n      this.rpcApiVersion = resp.info.version;\n      this.cacheExpiry =\n        // Date.now() is in milliseconds, but the timeout is in seconds\n        Date.now() + (this.options.versionCacheTimeoutInSeconds ?? 0) * 1000;\n      return this.rpcApiVersion;\n    } catch (err) {\n      console.warn('Error fetching version number of the RPC API', err);\n    }\n    return undefined;\n  }\n\n  async requestSuiFromFaucet(\n    recipient: SuiAddress,\n    httpHeaders?: HttpHeaders,\n  ): Promise<FaucetResponse> {\n    if (!this.connection.faucet) {\n      throw new Error('Faucet URL is not specified');\n    }\n    return requestSuiFromFaucet(this.connection.faucet, recipient, httpHeaders);\n  }\n\n  /**\n   * Get all Coin<`coin_type`> objects owned by an address.\n   */\n  async getCoins(\n    input: {\n      owner: SuiAddress;\n      coinType?: string | null;\n    } & PaginationArguments<PaginatedCoins['nextCursor']>,\n  ): Promise<PaginatedCoins> {\n    if (!input.owner || !isValidSuiAddress(normalizeSuiAddress(input.owner))) {\n      throw new Error('Invalid Sui address');\n    }\n\n    return await this.client.requestWithType(\n      'suix_getCoins',\n      [input.owner, input.coinType, input.cursor, input.limit],\n      PaginatedCoins,\n    );\n  }\n\n  /**\n   * Get all Coin objects owned by an address.\n   */\n  async getAllCoins(\n    input: {\n      owner: SuiAddress;\n    } & PaginationArguments<PaginatedCoins['nextCursor']>,\n  ): Promise<PaginatedCoins> {\n    if (!input.owner || !isValidSuiAddress(normalizeSuiAddress(input.owner))) {\n      throw new Error('Invalid Sui address');\n    }\n\n    return await this.client.requestWithType(\n      'suix_getAllCoins',\n      [input.owner, input.cursor, input.limit],\n      PaginatedCoins,\n    );\n  }\n\n  /**\n   * Get the total coin balance for one coin type, owned by the address owner.\n   */\n  async getBalance(input: {\n    owner: SuiAddress;\n    /** optional fully qualified type names for the coin (e.g., 0x168da5bf1f48dafc111b0a488fa454aca95e0b5e::usdc::USDC), default to 0x2::sui::SUI if not specified. */\n    coinType?: string | null;\n  }): Promise<CoinBalance> {\n    if (!input.owner || !isValidSuiAddress(normalizeSuiAddress(input.owner))) {\n      throw new Error('Invalid Sui address');\n    }\n    return await this.client.requestWithType(\n      'suix_getBalance',\n      [input.owner, input.coinType],\n      CoinBalance,\n    );\n  }\n\n  /**\n   * Get the total coin balance for all coin types, owned by the address owner.\n   */\n  async getAllBalances(input: { owner: SuiAddress }): Promise<CoinBalance[]> {\n    if (!input.owner || !isValidSuiAddress(normalizeSuiAddress(input.owner))) {\n      throw new Error('Invalid Sui address');\n    }\n    return await this.client.requestWithType(\n      'suix_getAllBalances',\n      [input.owner],\n      array(CoinBalance),\n    );\n  }\n\n  /**\n   * Fetch CoinMetadata for a given coin type\n   */\n  async getCoinMetadata(input: {\n    coinType: string;\n  }): Promise<CoinMetadata | null> {\n    return await this.client.requestWithType(\n      'suix_getCoinMetadata',\n      [input.coinType],\n      CoinMetadataStruct,\n    );\n  }\n\n  /**\n   *  Fetch total supply for a coin\n   */\n  async getTotalSupply(input: { coinType: string }): Promise<CoinSupply> {\n    return await this.client.requestWithType(\n      'suix_getTotalSupply',\n      [input.coinType],\n      CoinSupply,\n    );\n  }\n\n  /**\n   * Invoke any RPC method\n   * @param method the method to be invoked\n   * @param args the arguments to be passed to the RPC request\n   */\n  async call(method: string, params: any[]): Promise<any> {\n    return await this.client.request(method, params);\n  }\n\n  /**\n   * Get Move function argument types like read, write and full access\n   */\n  async getMoveFunctionArgTypes(input: {\n    package: string;\n    module: string;\n    function: string;\n  }): Promise<SuiMoveFunctionArgTypes> {\n    return await this.client.requestWithType(\n      'sui_getMoveFunctionArgTypes',\n      [input.package, input.module, input.function],\n      SuiMoveFunctionArgTypes,\n    );\n  }\n\n  /**\n   * Get a map from module name to\n   * structured representations of Move modules\n   */\n  async getNormalizedMoveModulesByPackage(input: {\n    package: string;\n  }): Promise<SuiMoveNormalizedModules> {\n    return await this.client.requestWithType(\n      'sui_getNormalizedMoveModulesByPackage',\n      [input.package],\n      SuiMoveNormalizedModules,\n    );\n  }\n\n  /**\n   * Get a structured representation of Move module\n   */\n  async getNormalizedMoveModule(input: {\n    package: string;\n    module: string;\n  }): Promise<SuiMoveNormalizedModule> {\n    return await this.client.requestWithType(\n      'sui_getNormalizedMoveModule',\n      [input.package, input.module],\n      SuiMoveNormalizedModule,\n    );\n  }\n\n  /**\n   * Get a structured representation of Move function\n   */\n  async getNormalizedMoveFunction(input: {\n    package: string;\n    module: string;\n    function: string;\n  }): Promise<SuiMoveNormalizedFunction> {\n    return await this.client.requestWithType(\n      'sui_getNormalizedMoveFunction',\n      [input.package, input.module, input.function],\n      SuiMoveNormalizedFunction,\n    );\n  }\n\n  /**\n   * Get a structured representation of Move struct\n   */\n  async getNormalizedMoveStruct(input: {\n    package: string;\n    module: string;\n    struct: string;\n  }): Promise<SuiMoveNormalizedStruct> {\n    return await this.client.requestWithType(\n      'sui_getNormalizedMoveStruct',\n      [input.package, input.module, input.struct],\n      SuiMoveNormalizedStruct,\n    );\n  }\n\n  /**\n   * Get all objects owned by an address\n   */\n  async getOwnedObjects(\n    input: {\n      owner: SuiAddress;\n    } & PaginationArguments<PaginatedObjectsResponse['nextCursor']> &\n      SuiObjectResponseQuery,\n  ): Promise<PaginatedObjectsResponse> {\n    if (!input.owner || !isValidSuiAddress(normalizeSuiAddress(input.owner))) {\n      throw new Error('Invalid Sui address');\n    }\n\n    return await this.client.requestWithType(\n      'suix_getOwnedObjects',\n      [\n        input.owner,\n        {\n          filter: input.filter,\n          options: input.options,\n        } as SuiObjectResponseQuery,\n        input.cursor,\n        input.limit,\n      ],\n      PaginatedObjectsResponse,\n    );\n  }\n\n  /**\n   * Get details about an object\n   */\n  async getObject(input: {\n    id: ObjectId;\n    options?: SuiObjectDataOptions;\n  }): Promise<SuiObjectResponse> {\n    if (!input.id || !isValidSuiObjectId(normalizeSuiObjectId(input.id))) {\n      throw new Error('Invalid Sui Object id');\n    }\n    return await this.client.requestWithType(\n      'sui_getObject',\n      [input.id, input.options],\n      SuiObjectResponse,\n    );\n  }\n\n  async tryGetPastObject(input: {\n    id: ObjectId;\n    version: number;\n    options?: SuiObjectDataOptions;\n  }): Promise<ObjectRead> {\n    return await this.client.requestWithType(\n      'sui_tryGetPastObject',\n      [input.id, input.version, input.options],\n      ObjectRead,\n    );\n  }\n\n  /**\n   * Batch get details about a list of objects. If any of the object ids are duplicates the call will fail\n   */\n  async multiGetObjects(input: {\n    ids: ObjectId[];\n    options?: SuiObjectDataOptions;\n  }): Promise<SuiObjectResponse[]> {\n    input.ids.forEach((id) => {\n      if (!id || !isValidSuiObjectId(normalizeSuiObjectId(id))) {\n        throw new Error(`Invalid Sui Object id ${id}`);\n      }\n    });\n    const hasDuplicates = input.ids.length !== new Set(input.ids).size;\n    if (hasDuplicates) {\n      throw new Error(`Duplicate object ids in batch call ${input.ids}`);\n    }\n\n    return await this.client.requestWithType(\n      'sui_multiGetObjects',\n      [input.ids, input.options],\n      array(SuiObjectResponse),\n    );\n  }\n\n  /**\n   * Get transaction blocks for a given query criteria\n   */\n  async queryTransactionBlocks(\n    input: SuiTransactionBlockResponseQuery &\n      PaginationArguments<PaginatedTransactionResponse['nextCursor']> &\n      OrderArguments,\n  ): Promise<PaginatedTransactionResponse> {\n    return await this.client.requestWithType(\n      'suix_queryTransactionBlocks',\n      [\n        {\n          filter: input.filter,\n          options: input.options,\n        } as SuiTransactionBlockResponseQuery,\n        input.cursor,\n        input.limit,\n        (input.order || 'descending') === 'descending',\n      ],\n      PaginatedTransactionResponse,\n    );\n  }\n\n  async getTransactionBlock(input: {\n    digest: TransactionDigest;\n    options?: SuiTransactionBlockResponseOptions;\n  }): Promise<SuiTransactionBlockResponse> {\n    if (!isValidTransactionDigest(input.digest)) {\n      throw new Error('Invalid Transaction digest');\n    }\n    return await this.client.requestWithType(\n      'sui_getTransactionBlock',\n      [input.digest, input.options],\n      SuiTransactionBlockResponse,\n    );\n  }\n\n  async multiGetTransactionBlocks(input: {\n    digests: TransactionDigest[];\n    options?: SuiTransactionBlockResponseOptions;\n  }): Promise<SuiTransactionBlockResponse[]> {\n    input.digests.forEach((d) => {\n      if (!isValidTransactionDigest(d)) {\n        throw new Error(`Invalid Transaction digest ${d}`);\n      }\n    });\n\n    const hasDuplicates = input.digests.length !== new Set(input.digests).size;\n    if (hasDuplicates) {\n      throw new Error(`Duplicate digests in batch call ${input.digests}`);\n    }\n\n    return await this.client.requestWithType(\n      'sui_multiGetTransactionBlocks',\n      [input.digests, input.options],\n      array(SuiTransactionBlockResponse),\n    );\n  }\n\n  async executeTransactionBlock(input: {\n    transactionBlock: Uint8Array | string;\n    signature: SerializedSignature | SerializedSignature[];\n    options?: SuiTransactionBlockResponseOptions;\n    requestType?: ExecuteTransactionRequestType;\n  }): Promise<SuiTransactionBlockResponse> {\n    return await this.client.requestWithType(\n      'sui_executeTransactionBlock',\n      [\n        typeof input.transactionBlock === 'string'\n          ? input.transactionBlock\n          : toB64(input.transactionBlock),\n        Array.isArray(input.signature) ? input.signature : [input.signature],\n        input.options,\n        input.requestType,\n      ],\n      SuiTransactionBlockResponse,\n    );\n  }\n\n  /**\n   * Get total number of transactions\n   */\n\n  async getTotalTransactionBlocks(): Promise<bigint> {\n    const resp = await this.client.requestWithType(\n      'sui_getTotalTransactionBlocks',\n      [],\n      string(),\n    );\n    return BigInt(resp);\n  }\n\n  /**\n   * Getting the reference gas price for the network\n   */\n  async getReferenceGasPrice(): Promise<bigint> {\n    const resp = await this.client.requestWithType(\n      'suix_getReferenceGasPrice',\n      [],\n      string(),\n    );\n    return BigInt(resp);\n  }\n\n  /**\n   * Return the delegated stakes for an address\n   */\n  async getStakes(input: { owner: SuiAddress }): Promise<DelegatedStake[]> {\n    if (!input.owner || !isValidSuiAddress(normalizeSuiAddress(input.owner))) {\n      throw new Error('Invalid Sui address');\n    }\n    return await this.client.requestWithType(\n      'suix_getStakes',\n      [input.owner],\n      array(DelegatedStake),\n    );\n  }\n\n  /**\n   * Return the delegated stakes queried by id.\n   */\n  async getStakesByIds(input: {\n    stakedSuiIds: ObjectId[];\n  }): Promise<DelegatedStake[]> {\n    input.stakedSuiIds.forEach((id) => {\n      if (!id || !isValidSuiObjectId(normalizeSuiObjectId(id))) {\n        throw new Error(`Invalid Sui Stake id ${id}`);\n      }\n    });\n    return await this.client.requestWithType(\n      'suix_getStakesByIds',\n      [input.stakedSuiIds],\n      array(DelegatedStake),\n    );\n  }\n\n  /**\n   * Return the latest system state content.\n   */\n  async getLatestSuiSystemState(): Promise<SuiSystemStateSummary> {\n    return await this.client.requestWithType(\n      'suix_getLatestSuiSystemState',\n      [],\n      SuiSystemStateSummary,\n    );\n  }\n\n  /**\n   * Get events for a given query criteria\n   */\n  async queryEvents(\n    input: {\n      /** the event query criteria. */\n      query: SuiEventFilter;\n    } & PaginationArguments<PaginatedEvents['nextCursor']> &\n      OrderArguments,\n  ): Promise<PaginatedEvents> {\n    return await this.client.requestWithType(\n      'suix_queryEvents',\n      [\n        input.query,\n        input.cursor,\n        input.limit,\n        (input.order || 'descending') === 'descending',\n      ],\n      PaginatedEvents,\n    );\n  }\n\n  /**\n   * Subscribe to get notifications whenever an event matching the filter occurs\n   */\n  async subscribeEvent(input: {\n    /** filter describing the subset of events to follow */\n    filter: SuiEventFilter;\n    /** function to run when we receive a notification of a new event matching the filter */\n    onMessage: (event: SuiEvent) => void;\n  }): Promise<Unsubscribe> {\n    return this.wsClient.request({\n      method: 'suix_subscribeEvent',\n      unsubscribe: 'suix_unsubscribeEvent',\n      params: [input.filter],\n      onMessage: input.onMessage,\n    });\n  }\n\n  async subscribeTransaction(input: {\n    /** filter describing the subset of events to follow */\n    filter: TransactionFilter;\n    /** function to run when we receive a notification of a new event matching the filter */\n    onMessage: (event: TransactionEffects) => void;\n  }): Promise<Unsubscribe> {\n    return this.wsClient.request({\n      method: 'suix_subscribeTransaction',\n      unsubscribe: 'suix_unsubscribeTransaction',\n      params: [input.filter],\n      onMessage: input.onMessage,\n    });\n  }\n\n  /**\n   * Runs the transaction block in dev-inspect mode. Which allows for nearly any\n   * transaction (or Move call) with any arguments. Detailed results are\n   * provided, including both the transaction effects and any return values.\n   */\n  async devInspectTransactionBlock(input: {\n    transactionBlock: TransactionBlock | string | Uint8Array;\n    sender: SuiAddress;\n    /** Default to use the network reference gas price stored in the Sui System State object */\n    gasPrice?: bigint | number | null;\n    /** optional. Default to use the current epoch number stored in the Sui System State object */\n    epoch?: string | null;\n  }): Promise<DevInspectResults> {\n    let devInspectTxBytes;\n    if (TransactionBlock.is(input.transactionBlock)) {\n      input.transactionBlock.setSenderIfNotSet(input.sender);\n      devInspectTxBytes = toB64(\n        await input.transactionBlock.build({\n          provider: this,\n          onlyTransactionKind: true,\n        }),\n      );\n    } else if (typeof input.transactionBlock === 'string') {\n      devInspectTxBytes = input.transactionBlock;\n    } else if (input.transactionBlock instanceof Uint8Array) {\n      devInspectTxBytes = toB64(input.transactionBlock);\n    } else {\n      throw new Error('Unknown transaction block format.');\n    }\n\n    return await this.client.requestWithType(\n      'sui_devInspectTransactionBlock',\n      [input.sender, devInspectTxBytes, input.gasPrice, input.epoch],\n      DevInspectResults,\n    );\n  }\n\n  /**\n   * Dry run a transaction block and return the result.\n   */\n  async dryRunTransactionBlock(input: {\n    transactionBlock: Uint8Array | string;\n  }): Promise<DryRunTransactionBlockResponse> {\n    return await this.client.requestWithType(\n      'sui_dryRunTransactionBlock',\n      [\n        typeof input.transactionBlock === 'string'\n          ? input.transactionBlock\n          : toB64(input.transactionBlock),\n      ],\n      DryRunTransactionBlockResponse,\n    );\n  }\n\n  /**\n   * Return the list of dynamic field objects owned by an object\n   */\n  async getDynamicFields(\n    input: {\n      /** The id of the parent object */\n      parentId: ObjectId;\n    } & PaginationArguments<DynamicFieldPage['nextCursor']>,\n  ): Promise<DynamicFieldPage> {\n    if (\n      !input.parentId ||\n      !isValidSuiObjectId(normalizeSuiObjectId(input.parentId))\n    ) {\n      throw new Error('Invalid Sui Object id');\n    }\n    return await this.client.requestWithType(\n      'suix_getDynamicFields',\n      [input.parentId, input.cursor, input.limit],\n      DynamicFieldPage,\n    );\n  }\n\n  /**\n   * Return the dynamic field object information for a specified object\n   */\n  async getDynamicFieldObject(input: {\n    /** The ID of the quered parent object */\n    parentId: ObjectId;\n    /** The name of the dynamic field */\n    name: string | DynamicFieldName;\n  }): Promise<SuiObjectResponse> {\n    return await this.client.requestWithType(\n      'suix_getDynamicFieldObject',\n      [input.parentId, input.name],\n      SuiObjectResponse,\n    );\n  }\n\n  /**\n   * Get the sequence number of the latest checkpoint that has been executed\n   */\n  async getLatestCheckpointSequenceNumber(): Promise<string> {\n    const resp = await this.client.requestWithType(\n      'sui_getLatestCheckpointSequenceNumber',\n      [],\n      string(),\n    );\n    return String(resp);\n  }\n\n  /**\n   * Returns information about a given checkpoint\n   */\n  async getCheckpoint(input: {\n    /** The checkpoint digest or sequence number */\n    id: CheckpointDigest | string;\n  }): Promise<Checkpoint> {\n    return await this.client.requestWithType(\n      'sui_getCheckpoint',\n      [input.id],\n      Checkpoint,\n    );\n  }\n\n  /**\n   * Returns historical checkpoints paginated\n   */\n  async getCheckpoints(\n    input: {\n      /** query result ordering, default to false (ascending order), oldest record first */\n      descendingOrder: boolean;\n    } & PaginationArguments<CheckpointPage['nextCursor']>,\n  ): Promise<CheckpointPage> {\n    const resp = await this.client.requestWithType(\n      'sui_getCheckpoints',\n      [input.cursor, input?.limit, input.descendingOrder],\n      CheckpointPage,\n    );\n    return resp;\n  }\n\n  /**\n   * Return the committee information for the asked epoch\n   */\n  async getCommitteeInfo(input?: {\n    /** The epoch of interest. If null, default to the latest epoch */\n    epoch?: string | null;\n  }): Promise<CommitteeInfo> {\n    return await this.client.requestWithType(\n      'suix_getCommitteeInfo',\n      [input?.epoch],\n      CommitteeInfo,\n    );\n  }\n\n  async getNetworkMetrics() {\n    return await this.client.requestWithType(\n      'suix_getNetworkMetrics',\n      [],\n      NetworkMetrics,\n    );\n  }\n\n  async getAddressMetrics() {\n    return await this.client.requestWithType(\n      'suix_getLatestAddressMetrics',\n      [],\n      AddressMetrics,\n    );\n  }\n\n  /**\n   * Return the committee information for the asked epoch\n   */\n  async getEpochs(\n    input?: {\n      descendingOrder?: boolean;\n    } & PaginationArguments<EpochPage['nextCursor']>,\n  ): Promise<EpochPage> {\n    return await this.client.requestWithType(\n      'suix_getEpochs',\n      [input?.cursor, input?.limit, input?.descendingOrder],\n      EpochPage,\n    );\n  }\n\n  /**\n   * Returns list of top move calls by usage\n   */\n  async getMoveCallMetrics(): Promise<MoveCallMetrics> {\n    return await this.client.requestWithType(\n      'suix_getMoveCallMetrics',\n      [],\n      MoveCallMetrics,\n    );\n  }\n\n  /**\n   * Return the committee information for the asked epoch\n   */\n  async getCurrentEpoch(): Promise<EpochInfo> {\n    return await this.client.requestWithType(\n      'suix_getCurrentEpoch',\n      [],\n      EpochInfo,\n    );\n  }\n\n  /**\n   * Return the Validators APYs\n   */\n  async getValidatorsApy(): Promise<ValidatorsApy> {\n    return await this.client.requestWithType(\n      'suix_getValidatorsApy',\n      [],\n      ValidatorsApy,\n    );\n  }\n\n  // TODO: Migrate this to `sui_getChainIdentifier` once it is widely available.\n  async getChainIdentifier(): Promise<string> {\n    const checkpoint = await this.getCheckpoint({ id: '0' });\n    const bytes = fromB58(checkpoint.digest);\n    return toHEX(bytes.slice(0, 4));\n  }\n\n  async resolveNameServiceAddress(input: {\n    name: string;\n  }): Promise<SuiAddress | null> {\n    return await this.client.requestWithType(\n      'suix_resolveNameServiceAddress',\n      [input.name],\n      nullable(SuiAddress),\n    );\n  }\n\n  async resolveNameServiceNames(\n    input: {\n      address: string;\n    } & PaginationArguments<ResolvedNameServiceNames['nextCursor']>,\n  ): Promise<ResolvedNameServiceNames> {\n    return await this.client.requestWithType(\n      'suix_resolveNameServiceNames',\n      [input.address],\n      ResolvedNameServiceNames,\n    );\n  }\n\n  /**\n   * Wait for a transaction block result to be available over the API.\n   * This can be used in conjunction with `executeTransactionBlock` to wait for the transaction to\n   * be available via the API.\n   * This currently polls the `getTransactionBlock` API to check for the transaction.\n   */\n  async waitForTransactionBlock({\n    signal,\n    timeout = 60 * 1000,\n    pollInterval = 2 * 1000,\n    ...input\n  }: {\n    /** An optional abort signal that can be used to cancel */\n    signal?: AbortSignal;\n    /** The amount of time to wait for a transaction block. Defaults to one minute. */\n    timeout?: number;\n    /** The amount of time to wait between checks for the transaction block. Defaults to 2 seconds. */\n    pollInterval?: number;\n  } & Parameters<\n    JsonRpcProvider['getTransactionBlock']\n  >[0]): Promise<SuiTransactionBlockResponse> {\n    const timeoutSignal = AbortSignal.timeout(timeout);\n    const timeoutPromise = new Promise((_, reject) => {\n      timeoutSignal.addEventListener('abort', () =>\n        reject(timeoutSignal.reason),\n      );\n    });\n\n    while (!timeoutSignal.aborted) {\n      signal?.throwIfAborted();\n      try {\n        return await this.getTransactionBlock(input);\n      } catch (e) {\n        // Wait for either the next poll interval, or the timeout.\n        await Promise.race([\n          new Promise((resolve) => setTimeout(resolve, pollInterval)),\n          timeoutPromise,\n        ]);\n      }\n    }\n\n    timeoutSignal.throwIfAborted();\n\n    // This should never happen, because the above case should always throw, but just adding it in the event that something goes horribly wrong.\n    throw new Error('Unexpected error while waiting for transaction block.');\n  }\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\ninterface ConnectionOptions {\n  fullnode: string;\n  websocket?: string;\n  faucet?: string;\n}\n\nexport class Connection {\n  #options: ConnectionOptions;\n  constructor(options: ConnectionOptions) {\n    this.#options = options;\n  }\n\n  get fullnode() {\n    return this.#options.fullnode;\n  }\n\n  // TODO: Decide if we should default the websocket URL like this:\n  get websocket() {\n    return this.#options.websocket || this.#options.fullnode;\n  }\n\n  get faucet() {\n    return this.#options.faucet;\n  }\n}\n\n// TODO: Maybe don't have pre-built connections, and instead just have pre-built objects that folks\n// can use with the connection?\nexport const localnetConnection = new Connection({\n  fullnode: 'http://127.0.0.1:9000',\n  faucet: 'http://127.0.0.1:9123/gas',\n});\n\nexport const devnetConnection = new Connection({\n  fullnode: 'https://fullnode.devnet.sui.io:443/',\n  faucet: 'https://faucet.devnet.sui.io/gas',\n});\n\nexport const testnetConnection = new Connection({\n  fullnode: 'https://fullnode.testnet.sui.io:443/',\n  faucet: 'https://faucet.testnet.sui.io/gas',\n});\n\nexport const mainnetConnection = new Connection({\n  fullnode: 'https://fullnode.mainnet.sui.io:443/',\n});\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { fromB64 } from '@mysten/bcs';\nimport { is, mask } from 'superstruct';\nimport { JsonRpcProvider } from '../providers/json-rpc-provider';\nimport {\n  extractMutableReference,\n  extractStructTag,\n  getObjectReference,\n  getSharedObjectInitialVersion,\n  normalizeSuiObjectId,\n  ObjectId,\n  SuiMoveNormalizedType,\n  SuiObjectRef,\n  SUI_TYPE_ARG,\n} from '../types';\nimport {\n  Transactions,\n  TransactionArgument,\n  TransactionType,\n  TransactionBlockInput,\n  getTransactionType,\n  MoveCallTransaction,\n} from './Transactions';\nimport {\n  BuilderCallArg,\n  getIdFromCallArg,\n  Inputs,\n  isMutableSharedObjectInput,\n  ObjectCallArg,\n} from './Inputs';\nimport { getPureSerializationType, isTxContext } from './serializer';\nimport {\n  TransactionBlockDataBuilder,\n  TransactionExpiration,\n} from './TransactionBlockData';\nimport { TRANSACTION_TYPE, create, WellKnownEncoding } from './utils';\n\ntype TransactionResult = TransactionArgument & TransactionArgument[];\n\nfunction createTransactionResult(index: number): TransactionResult {\n  const baseResult: TransactionArgument = { kind: 'Result', index };\n\n  const nestedResults: TransactionArgument[] = [];\n  const nestedResultFor = (resultIndex: number): TransactionArgument =>\n    (nestedResults[resultIndex] ??= {\n      kind: 'NestedResult',\n      index,\n      resultIndex,\n    });\n\n  return new Proxy(baseResult, {\n    set() {\n      throw new Error(\n        'The transaction result is a proxy, and does not support setting properties directly',\n      );\n    },\n    // TODO: Instead of making this return a concrete argument, we should ideally\n    // make it reference-based (so that this gets resolved at build-time), which\n    // allows re-ordering transactions.\n    get(target, property) {\n      // This allows this transaction argument to be used in the singular form:\n      if (property in target) {\n        return Reflect.get(target, property);\n      }\n\n      // Support destructuring:\n      if (property === Symbol.iterator) {\n        return function* () {\n          let i = 0;\n          while (true) {\n            yield nestedResultFor(i);\n            i++;\n          }\n        };\n      }\n\n      if (typeof property === 'symbol') return;\n\n      const resultIndex = parseInt(property, 10);\n      if (Number.isNaN(resultIndex) || resultIndex < 0) return;\n      return nestedResultFor(resultIndex);\n    },\n  }) as TransactionResult;\n}\n\nfunction expectProvider(\n  provider: JsonRpcProvider | undefined,\n): JsonRpcProvider {\n  if (!provider) {\n    throw new Error(\n      `No provider passed to Transaction#build, but transaction data was not sufficient to build offline.`,\n    );\n  }\n\n  return provider;\n}\n\nconst TRANSACTION_BRAND = Symbol.for('@mysten/transaction');\n\n// The maximum number of gas objects that can be selected for one transaction.\nconst MAX_GAS_OBJECTS = 256;\n\n// The maximum gas that is allowed.\nconst MAX_GAS = 50_000_000_000;\n\n// An amount of gas (in gas units) that is added to transactions as an overhead to ensure transactions do not fail.\nconst GAS_SAFE_OVERHEAD = 1000n;\n\n// The maximum objects that can be fetched at once using multiGetObjects.\nconst MAX_OBJECTS_PER_FETCH = 50;\n\nconst chunk = <T>(arr: T[], size: number): T[][] =>\n  Array.from({ length: Math.ceil(arr.length / size) }, (_, i) =>\n    arr.slice(i * size, i * size + size),\n  );\n\ninterface BuildOptions {\n  provider?: JsonRpcProvider;\n  onlyTransactionKind?: boolean;\n}\n\n/**\n * Transaction Builder\n */\nexport class TransactionBlock {\n  /** Returns `true` if the object is an instance of the Transaction builder class. */\n  static is(obj: unknown): obj is TransactionBlock {\n    return (\n      !!obj &&\n      typeof obj === 'object' &&\n      (obj as any)[TRANSACTION_BRAND] === true\n    );\n  }\n\n  /**\n   * Converts from a serialize transaction kind (built with `build({ onlyTransactionKind: true })`) to a `Transaction` class.\n   * Supports either a byte array, or base64-encoded bytes.\n   */\n  static fromKind(serialized: string | Uint8Array) {\n    const tx = new TransactionBlock();\n\n    tx.#blockData = TransactionBlockDataBuilder.fromKindBytes(\n      typeof serialized === 'string' ? fromB64(serialized) : serialized,\n    );\n\n    return tx;\n  }\n\n  /**\n   * Converts from a serialized transaction format to a `Transaction` class.\n   * There are two supported serialized formats:\n   * - A string returned from `Transaction#serialize`. The serialized format must be compatible, or it will throw an error.\n   * - A byte array (or base64-encoded bytes) containing BCS transaction data.\n   */\n  static from(serialized: string | Uint8Array) {\n    const tx = new TransactionBlock();\n\n    // Check for bytes:\n    if (typeof serialized !== 'string' || !serialized.startsWith('{')) {\n      tx.#blockData = TransactionBlockDataBuilder.fromBytes(\n        typeof serialized === 'string' ? fromB64(serialized) : serialized,\n      );\n    } else {\n      tx.#blockData = TransactionBlockDataBuilder.restore(\n        JSON.parse(serialized),\n      );\n    }\n\n    return tx;\n  }\n\n  /** A helper to retrieve the Transaction builder `Transactions` */\n  static get Transactions() {\n    return Transactions;\n  }\n\n  /** A helper to retrieve the Transaction builder `Inputs` */\n  static get Inputs() {\n    return Inputs;\n  }\n\n  setSender(sender: string) {\n    this.#blockData.sender = sender;\n  }\n  /**\n   * Sets the sender only if it has not already been set.\n   * This is useful for sponsored transaction flows where the sender may not be the same as the signer address.\n   */\n  setSenderIfNotSet(sender: string) {\n    if (!this.#blockData.sender) {\n      this.#blockData.sender = sender;\n    }\n  }\n  setExpiration(expiration?: TransactionExpiration) {\n    this.#blockData.expiration = expiration;\n  }\n  setGasPrice(price: number | bigint) {\n    this.#blockData.gasConfig.price = String(price);\n  }\n  setGasBudget(budget: number | bigint) {\n    this.#blockData.gasConfig.budget = String(budget);\n  }\n  setGasOwner(owner: string) {\n    this.#blockData.gasConfig.owner = owner;\n  }\n  setGasPayment(payments: SuiObjectRef[]) {\n    if (payments.length >= MAX_GAS_OBJECTS) {\n      throw new Error(\n        `Payment objects exceed maximum amount ${MAX_GAS_OBJECTS}`,\n      );\n    }\n    this.#blockData.gasConfig.payment = payments.map((payment) =>\n      mask(payment, SuiObjectRef),\n    );\n  }\n\n  #blockData: TransactionBlockDataBuilder;\n  /** Get a snapshot of the transaction data, in JSON form: */\n  get blockData() {\n    return this.#blockData.snapshot();\n  }\n\n  // Used to brand transaction classes so that they can be identified, even between multiple copies\n  // of the builder.\n  get [TRANSACTION_BRAND]() {\n    return true;\n  }\n\n  constructor(transaction?: TransactionBlock) {\n    this.#blockData = new TransactionBlockDataBuilder(\n      transaction ? transaction.blockData : undefined,\n    );\n  }\n\n  /** Returns an argument for the gas coin, to be used in a transaction. */\n  get gas(): TransactionArgument {\n    return { kind: 'GasCoin' };\n  }\n\n  /**\n   * Dynamically create a new input, which is separate from the `input`. This is important\n   * for generated clients to be able to define unique inputs that are non-overlapping with the\n   * defined inputs.\n   *\n   * For `Uint8Array` type automatically convert the input into a `Pure` CallArg, since this\n   * is the format required for custom serialization.\n   *\n   */\n  #input(type: 'object' | 'pure', value?: unknown) {\n    const index = this.#blockData.inputs.length;\n    const input = create(\n      {\n        kind: 'Input',\n        // bigints can't be serialized to JSON, so just string-convert them here:\n        value: typeof value === 'bigint' ? String(value) : value,\n        index,\n        type,\n      },\n      TransactionBlockInput,\n    );\n    this.#blockData.inputs.push(input);\n    return input;\n  }\n\n  /**\n   * Add a new object input to the transaction.\n   */\n  object(value: ObjectId | ObjectCallArg) {\n    const id = getIdFromCallArg(value);\n    // deduplicate\n    const inserted = this.#blockData.inputs.find(\n      (i) => i.type === 'object' && id === getIdFromCallArg(i.value),\n    );\n    return inserted ?? this.#input('object', value);\n  }\n\n  /**\n   * Add a new object input to the transaction using the fully-resolved object reference.\n   * If you only have an object ID, use `builder.object(id)` instead.\n   */\n  objectRef(...args: Parameters<(typeof Inputs)['ObjectRef']>) {\n    return this.object(Inputs.ObjectRef(...args));\n  }\n\n  /**\n   * Add a new shared object input to the transaction using the fully-resolved shared object reference.\n   * If you only have an object ID, use `builder.object(id)` instead.\n   */\n  sharedObjectRef(...args: Parameters<(typeof Inputs)['SharedObjectRef']>) {\n    return this.object(Inputs.SharedObjectRef(...args));\n  }\n\n  /**\n   * Add a new non-object input to the transaction.\n   */\n  pure(\n    /**\n     * The pure value that will be used as the input value. If this is a Uint8Array, then the value\n     * is assumed to be raw bytes, and will be used directly.\n     */\n    value: unknown,\n    /**\n     * The BCS type to serialize the value into. If not provided, the type will automatically be determined\n     * based on how the input is used.\n     */\n    type?: string,\n  ) {\n    // TODO: we can also do some deduplication here\n    return this.#input(\n      'pure',\n      value instanceof Uint8Array\n        ? Inputs.Pure(value)\n        : type\n        ? Inputs.Pure(value, type)\n        : value,\n    );\n  }\n\n  /** Add a transaction to the transaction block. */\n  add(transaction: TransactionType) {\n    const index = this.#blockData.transactions.push(transaction);\n    return createTransactionResult(index - 1);\n  }\n\n  // Method shorthands:\n\n  splitCoins(...args: Parameters<(typeof Transactions)['SplitCoins']>) {\n    return this.add(Transactions.SplitCoins(...args));\n  }\n  mergeCoins(...args: Parameters<(typeof Transactions)['MergeCoins']>) {\n    return this.add(Transactions.MergeCoins(...args));\n  }\n  publish(...args: Parameters<(typeof Transactions)['Publish']>) {\n    return this.add(Transactions.Publish(...args));\n  }\n  upgrade(...args: Parameters<(typeof Transactions)['Upgrade']>) {\n    return this.add(Transactions.Upgrade(...args));\n  }\n  moveCall(...args: Parameters<(typeof Transactions)['MoveCall']>) {\n    return this.add(Transactions.MoveCall(...args));\n  }\n  transferObjects(\n    ...args: Parameters<(typeof Transactions)['TransferObjects']>\n  ) {\n    return this.add(Transactions.TransferObjects(...args));\n  }\n  makeMoveVec(...args: Parameters<(typeof Transactions)['MakeMoveVec']>) {\n    return this.add(Transactions.MakeMoveVec(...args));\n  }\n\n  /**\n   * Serialize the transaction to a string so that it can be sent to a separate context.\n   * This is different from `build` in that it does not serialize to BCS bytes, and instead\n   * uses a separate format that is unique to the transaction builder. This allows\n   * us to serialize partially-complete transactions, that can then be completed and\n   * built in a separate context.\n   *\n   * For example, a dapp can construct a transaction, but not provide gas objects\n   * or a gas budget. The transaction then can be sent to the wallet, where this\n   * information is automatically filled in (e.g. by querying for coin objects\n   * and performing a dry run).\n   */\n  serialize() {\n    return JSON.stringify(this.#blockData.snapshot());\n  }\n\n  /** Build the transaction to BCS bytes. */\n  async build({\n    provider,\n    onlyTransactionKind,\n  }: BuildOptions = {}): Promise<Uint8Array> {\n    await this.#prepare({ provider, onlyTransactionKind });\n    return this.#blockData.build({ onlyTransactionKind });\n  }\n\n  /** Derive transaction digest */\n  async getDigest({\n    provider,\n  }: {\n    provider?: JsonRpcProvider;\n  } = {}): Promise<string> {\n    await this.#prepare({ provider });\n    return this.#blockData.getDigest();\n  }\n\n  // The current default is just picking _all_ coins we can which may not be ideal.\n  async #prepareGasPayment({ provider, onlyTransactionKind }: BuildOptions) {\n    // Early return if the payment is already set:\n    if (onlyTransactionKind || this.#blockData.gasConfig.payment) {\n      return;\n    }\n\n    const gasOwner = this.#blockData.gasConfig.owner ?? this.#blockData.sender;\n\n    const coins = await expectProvider(provider).getCoins({\n      owner: gasOwner!,\n      coinType: SUI_TYPE_ARG,\n    });\n\n    const paymentCoins = coins.data\n      // Filter out coins that are also used as input:\n      .filter((coin) => {\n        const matchingInput = this.#blockData.inputs.find((input) => {\n          if (\n            is(input.value, BuilderCallArg) &&\n            'Object' in input.value &&\n            'ImmOrOwned' in input.value.Object\n          ) {\n            return coin.coinObjectId === input.value.Object.ImmOrOwned.objectId;\n          }\n\n          return false;\n        });\n\n        return !matchingInput;\n      })\n      .slice(0, MAX_GAS_OBJECTS - 1)\n      .map((coin) => ({\n        objectId: coin.coinObjectId,\n        digest: coin.digest,\n        version: coin.version,\n      }));\n\n    if (!paymentCoins.length) {\n      throw new Error('No valid gas coins found for the transaction.');\n    }\n\n    this.setGasPayment(paymentCoins);\n  }\n\n  async #prepareGasPrice({ provider, onlyTransactionKind }: BuildOptions) {\n    if (onlyTransactionKind || this.#blockData.gasConfig.price) {\n      return;\n    }\n\n    this.setGasPrice(await expectProvider(provider).getReferenceGasPrice());\n  }\n\n  async #prepareTransactions(provider?: JsonRpcProvider) {\n    const { inputs, transactions } = this.#blockData;\n\n    const moveModulesToResolve: MoveCallTransaction[] = [];\n\n    // Keep track of the object references that will need to be resolved at the end of the transaction.\n    // We keep the input by-reference to avoid needing to re-resolve it:\n    const objectsToResolve: {\n      id: string;\n      input: TransactionBlockInput;\n      normalizedType?: SuiMoveNormalizedType;\n    }[] = [];\n\n    transactions.forEach((transaction) => {\n      // Special case move call:\n      if (transaction.kind === 'MoveCall') {\n        // Determine if any of the arguments require encoding.\n        // - If they don't, then this is good to go.\n        // - If they do, then we need to fetch the normalized move module.\n        const needsResolution = transaction.arguments.some(\n          (arg) =>\n            arg.kind === 'Input' &&\n            !is(inputs[arg.index].value, BuilderCallArg),\n        );\n\n        if (needsResolution) {\n          moveModulesToResolve.push(transaction);\n        }\n\n        return;\n      }\n\n      // Get the matching struct definition for the transaction, and use it to attempt to automatically\n      // encode the matching inputs.\n      const transactionType = getTransactionType(transaction);\n      if (!transactionType.schema) return;\n\n      Object.entries(transaction).forEach(([key, value]) => {\n        if (key === 'kind') return;\n        const keySchema = (transactionType.schema as any)[key];\n        const isArray = keySchema.type === 'array';\n        const wellKnownEncoding: WellKnownEncoding = isArray\n          ? keySchema.schema[TRANSACTION_TYPE]\n          : keySchema[TRANSACTION_TYPE];\n\n        // This argument has unknown encoding, assume it must be fully-encoded:\n        if (!wellKnownEncoding) return;\n\n        const encodeInput = (index: number) => {\n          const input = inputs[index];\n          if (!input) {\n            throw new Error(`Missing input ${value.index}`);\n          }\n\n          // Input is fully resolved:\n          if (is(input.value, BuilderCallArg)) return;\n          if (\n            wellKnownEncoding.kind === 'object' &&\n            typeof input.value === 'string'\n          ) {\n            // The input is a string that we need to resolve to an object reference:\n            objectsToResolve.push({ id: input.value, input });\n          } else if (wellKnownEncoding.kind === 'pure') {\n            // Pure encoding, so construct BCS bytes:\n            input.value = Inputs.Pure(input.value, wellKnownEncoding.type);\n          } else {\n            throw new Error('Unexpected input format.');\n          }\n        };\n\n        if (isArray) {\n          value.forEach((arrayItem: TransactionArgument) => {\n            if (arrayItem.kind !== 'Input') return;\n            encodeInput(arrayItem.index);\n          });\n        } else {\n          if (value.kind !== 'Input') return;\n          encodeInput(value.index);\n        }\n      });\n    });\n\n    if (moveModulesToResolve.length) {\n      await Promise.all(\n        moveModulesToResolve.map(async (moveCall) => {\n          const [packageId, moduleName, functionName] =\n            moveCall.target.split('::');\n\n          const normalized = await expectProvider(\n            provider,\n          ).getNormalizedMoveFunction({\n            package: normalizeSuiObjectId(packageId),\n            module: moduleName,\n            function: functionName,\n          });\n\n          // Entry functions can have a mutable reference to an instance of the TxContext\n          // struct defined in the TxContext module as the last parameter. The caller of\n          // the function does not need to pass it in as an argument.\n          const hasTxContext =\n            normalized.parameters.length > 0 &&\n            isTxContext(normalized.parameters.at(-1)!);\n\n          const params = hasTxContext\n            ? normalized.parameters.slice(0, normalized.parameters.length - 1)\n            : normalized.parameters;\n\n          if (params.length !== moveCall.arguments.length) {\n            throw new Error('Incorrect number of arguments.');\n          }\n\n          params.forEach((param, i) => {\n            const arg = moveCall.arguments[i];\n            if (arg.kind !== 'Input') return;\n            const input = inputs[arg.index];\n            // Skip if the input is already resolved\n            if (is(input.value, BuilderCallArg)) return;\n\n            const inputValue = input.value;\n\n            const serType = getPureSerializationType(param, inputValue);\n\n            if (serType) {\n              input.value = Inputs.Pure(inputValue, serType);\n              return;\n            }\n\n            const structVal = extractStructTag(param);\n            if (\n              structVal != null ||\n              (typeof param === 'object' && 'TypeParameter' in param)\n            ) {\n              if (typeof inputValue !== 'string') {\n                throw new Error(\n                  `Expect the argument to be an object id string, got ${JSON.stringify(\n                    inputValue,\n                    null,\n                    2,\n                  )}`,\n                );\n              }\n              objectsToResolve.push({\n                id: inputValue,\n                input,\n                normalizedType: param,\n              });\n              return;\n            }\n\n            throw new Error(\n              `Unknown call arg type ${JSON.stringify(\n                param,\n                null,\n                2,\n              )} for value ${JSON.stringify(inputValue, null, 2)}`,\n            );\n          });\n        }),\n      );\n    }\n\n    if (objectsToResolve.length) {\n      const dedupedIds = [...new Set(objectsToResolve.map(({ id }) => id))];\n      const objectChunks = chunk(dedupedIds, MAX_OBJECTS_PER_FETCH);\n      const objects = (\n        await Promise.all(\n          objectChunks.map((chunk) =>\n            expectProvider(provider).multiGetObjects({\n              ids: chunk,\n              options: { showOwner: true },\n            }),\n          ),\n        )\n      ).flat();\n\n      let objectsById = new Map(\n        dedupedIds.map((id, index) => {\n          return [id, objects[index]];\n        }),\n      );\n\n      const invalidObjects = Array.from(objectsById)\n        .filter(([_, obj]) => obj.error)\n        .map(([id, _]) => id);\n      if (invalidObjects.length) {\n        throw new Error(\n          `The following input objects are not invalid: ${invalidObjects.join(\n            ', ',\n          )}`,\n        );\n      }\n\n      objectsToResolve.forEach(({ id, input, normalizedType }) => {\n        const object = objectsById.get(id)!;\n        const initialSharedVersion = getSharedObjectInitialVersion(object);\n\n        if (initialSharedVersion) {\n          // There could be multiple transactions that reference the same shared object.\n          // If one of them is a mutable reference, then we should mark the input\n          // as mutable.\n          const mutable =\n            isMutableSharedObjectInput(input.value) ||\n            (normalizedType != null &&\n              extractMutableReference(normalizedType) != null);\n\n          input.value = Inputs.SharedObjectRef({\n            objectId: id,\n            initialSharedVersion,\n            mutable,\n          });\n        } else {\n          input.value = Inputs.ObjectRef(getObjectReference(object)!);\n        }\n      });\n    }\n  }\n\n  /**\n   * Prepare the transaction by valdiating the transaction data and resolving all inputs\n   * so that it can be built into bytes.\n   */\n  async #prepare({ provider, onlyTransactionKind }: BuildOptions) {\n    if (!onlyTransactionKind && !this.#blockData.sender) {\n      throw new Error('Missing transaction sender');\n    }\n\n    await Promise.all([\n      this.#prepareGasPrice({ provider, onlyTransactionKind }),\n      this.#prepareTransactions(provider),\n    ]);\n\n    if (!onlyTransactionKind) {\n      await this.#prepareGasPayment({ provider, onlyTransactionKind });\n\n      if (!this.#blockData.gasConfig.budget) {\n        const dryRunResult = await expectProvider(\n          provider,\n        ).dryRunTransactionBlock({\n          transactionBlock: this.#blockData.build({\n            overrides: {\n              gasConfig: {\n                budget: String(MAX_GAS),\n                payment: [],\n              },\n            },\n          }),\n        });\n        if (dryRunResult.effects.status.status !== 'success') {\n          throw new Error(\n            `Dry run failed, could not automatically determine a budget: ${dryRunResult.effects.status.error}`,\n            { cause: dryRunResult },\n          );\n        }\n\n        const safeOverhead =\n          GAS_SAFE_OVERHEAD * BigInt(this.blockData.gasConfig.price || 1n);\n\n        const baseComputationCostWithOverhead =\n          BigInt(dryRunResult.effects.gasUsed.computationCost) + safeOverhead;\n\n        const gasBudget =\n          baseComputationCostWithOverhead +\n          BigInt(dryRunResult.effects.gasUsed.storageCost) -\n          BigInt(dryRunResult.effects.gasUsed.storageRebate);\n\n        // Set the budget to max(computation, computation + storage - rebate)\n        this.setGasBudget(\n          gasBudget > baseComputationCostWithOverhead\n            ? gasBudget\n            : baseComputationCostWithOverhead,\n        );\n      }\n    }\n  }\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { BCS, fromB64 } from '@mysten/bcs';\nimport {\n  is,\n  any,\n  array,\n  Infer,\n  integer,\n  literal,\n  object,\n  optional,\n  string,\n  union,\n  assert,\n  Struct,\n  define,\n  unknown,\n  record,\n} from 'superstruct';\nimport { ObjectId, normalizeSuiObjectId } from '../types/common';\nimport { TRANSACTION_TYPE, WellKnownEncoding, create } from './utils';\nimport { TypeTagSerializer } from '../signers/txn-data-serializers/type-tag-serializer';\n\nconst option = <T extends Struct<any, any>>(some: T) =>\n  union([\n    object({ None: union([literal(true), literal(null)]) }),\n    object({ Some: some }),\n  ]);\n\nexport const TransactionBlockInput = object({\n  kind: literal('Input'),\n  index: integer(),\n  value: optional(any()),\n  type: optional(union([literal('pure'), literal('object')])),\n});\nexport type TransactionBlockInput = Infer<typeof TransactionBlockInput>;\n\nconst TransactionArgumentTypes = [\n  TransactionBlockInput,\n  object({ kind: literal('GasCoin') }),\n  object({ kind: literal('Result'), index: integer() }),\n  object({\n    kind: literal('NestedResult'),\n    index: integer(),\n    resultIndex: integer(),\n  }),\n] as const;\n\n// Generic transaction argument\nexport const TransactionArgument = union([...TransactionArgumentTypes]);\nexport type TransactionArgument = Infer<typeof TransactionArgument>;\n\n// Transaction argument referring to an object:\nexport const ObjectTransactionArgument = union([...TransactionArgumentTypes]);\n(ObjectTransactionArgument as any)[TRANSACTION_TYPE] = {\n  kind: 'object',\n} as WellKnownEncoding;\n\nexport const PureTransactionArgument = (type: string) => {\n  const struct = union([...TransactionArgumentTypes]);\n  (struct as any)[TRANSACTION_TYPE] = {\n    kind: 'pure',\n    type,\n  } as WellKnownEncoding;\n  return struct;\n};\n\nexport const MoveCallTransaction = object({\n  kind: literal('MoveCall'),\n  target: define<`${string}::${string}::${string}`>(\n    'target',\n    string().validator,\n  ),\n  typeArguments: array(string()),\n  arguments: array(TransactionArgument),\n});\nexport type MoveCallTransaction = Infer<typeof MoveCallTransaction>;\n\nexport const TransferObjectsTransaction = object({\n  kind: literal('TransferObjects'),\n  objects: array(ObjectTransactionArgument),\n  address: PureTransactionArgument(BCS.ADDRESS),\n});\nexport type TransferObjectsTransaction = Infer<\n  typeof TransferObjectsTransaction\n>;\n\nexport const SplitCoinsTransaction = object({\n  kind: literal('SplitCoins'),\n  coin: ObjectTransactionArgument,\n  amounts: array(PureTransactionArgument('u64')),\n});\nexport type SplitCoinsTransaction = Infer<typeof SplitCoinsTransaction>;\n\nexport const MergeCoinsTransaction = object({\n  kind: literal('MergeCoins'),\n  destination: ObjectTransactionArgument,\n  sources: array(ObjectTransactionArgument),\n});\nexport type MergeCoinsTransaction = Infer<typeof MergeCoinsTransaction>;\n\nexport const MakeMoveVecTransaction = object({\n  kind: literal('MakeMoveVec'),\n  // TODO: ideally we should use `TypeTag` instead of `record()` here,\n  // but TypeTag is recursively defined and it's tricky to define a\n  // recursive struct in superstruct\n  type: optional(option(record(string(), unknown()))),\n  objects: array(ObjectTransactionArgument),\n});\nexport type MakeMoveVecTransaction = Infer<typeof MakeMoveVecTransaction>;\n\nexport const PublishTransaction = object({\n  kind: literal('Publish'),\n  modules: array(array(integer())),\n  dependencies: array(ObjectId),\n});\nexport type PublishTransaction = Infer<typeof PublishTransaction>;\n\n// Keep in sync with constants in\n// crates/sui-framework/packages/sui-framework/sources/package.move\nexport enum UpgradePolicy {\n  COMPATIBLE = 0,\n  ADDITIVE = 128,\n  DEP_ONLY = 192,\n}\n\nexport const UpgradeTransaction = object({\n  kind: literal('Upgrade'),\n  modules: array(array(integer())),\n  dependencies: array(ObjectId),\n  packageId: ObjectId,\n  ticket: ObjectTransactionArgument,\n});\nexport type UpgradeTransaction = Infer<typeof UpgradeTransaction>;\n\nconst TransactionTypes = [\n  MoveCallTransaction,\n  TransferObjectsTransaction,\n  SplitCoinsTransaction,\n  MergeCoinsTransaction,\n  PublishTransaction,\n  UpgradeTransaction,\n  MakeMoveVecTransaction,\n] as const;\n\nexport const TransactionType = union([...TransactionTypes]);\nexport type TransactionType = Infer<typeof TransactionType>;\n\nexport function getTransactionType(data: unknown) {\n  assert(data, TransactionType);\n  return TransactionTypes.find((schema) => is(data, schema as Struct))!;\n}\n\n/**\n * Simple helpers used to construct transactions:\n */\nexport const Transactions = {\n  MoveCall(\n    input: Omit<MoveCallTransaction, 'kind' | 'arguments' | 'typeArguments'> & {\n      arguments?: TransactionArgument[];\n      typeArguments?: string[];\n    },\n  ): MoveCallTransaction {\n    return create(\n      {\n        kind: 'MoveCall',\n        target: input.target,\n        arguments: input.arguments ?? [],\n        typeArguments: input.typeArguments ?? [],\n      },\n      MoveCallTransaction,\n    );\n  },\n  TransferObjects(\n    objects: TransactionArgument[],\n    address: TransactionArgument,\n  ): TransferObjectsTransaction {\n    return create(\n      { kind: 'TransferObjects', objects, address },\n      TransferObjectsTransaction,\n    );\n  },\n  SplitCoins(\n    coin: TransactionArgument,\n    amounts: TransactionArgument[],\n  ): SplitCoinsTransaction {\n    return create({ kind: 'SplitCoins', coin, amounts }, SplitCoinsTransaction);\n  },\n  MergeCoins(\n    destination: TransactionArgument,\n    sources: TransactionArgument[],\n  ): MergeCoinsTransaction {\n    return create(\n      { kind: 'MergeCoins', destination, sources },\n      MergeCoinsTransaction,\n    );\n  },\n  Publish({\n    modules,\n    dependencies,\n  }: {\n    modules: number[][] | string[];\n    dependencies: ObjectId[];\n  }): PublishTransaction {\n    return create(\n      {\n        kind: 'Publish',\n        modules: modules.map((module) =>\n          typeof module === 'string' ? Array.from(fromB64(module)) : module,\n        ),\n        dependencies: dependencies.map((dep) => normalizeSuiObjectId(dep)),\n      },\n      PublishTransaction,\n    );\n  },\n  Upgrade({\n    modules,\n    dependencies,\n    packageId,\n    ticket,\n  }: {\n    modules: number[][] | string[];\n    dependencies: ObjectId[];\n    packageId: ObjectId;\n    ticket: TransactionArgument;\n  }): UpgradeTransaction {\n    return create(\n      {\n        kind: 'Upgrade',\n        modules: modules.map((module) =>\n          typeof module === 'string' ? Array.from(fromB64(module)) : module,\n        ),\n        dependencies: dependencies.map((dep) => normalizeSuiObjectId(dep)),\n        packageId,\n        ticket,\n      },\n      UpgradeTransaction,\n    );\n  },\n  MakeMoveVec({\n    type,\n    objects,\n  }: Omit<MakeMoveVecTransaction, 'kind' | 'type'> & {\n    type?: string;\n  }): MakeMoveVecTransaction {\n    return create(\n      {\n        kind: 'MakeMoveVec',\n        type: type\n          ? { Some: TypeTagSerializer.parseFromStr(type) }\n          : { None: null },\n        objects,\n      },\n      MakeMoveVecTransaction,\n    );\n  },\n};\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { create as superstructCreate, Struct } from 'superstruct';\n\nexport function create<T, S>(value: T, struct: Struct<T, S>): T {\n  return superstructCreate(value, struct);\n}\n\nexport type WellKnownEncoding =\n  | {\n      kind: 'object';\n    }\n  | {\n      kind: 'pure';\n      type: string;\n    };\n\nexport const TRANSACTION_TYPE = Symbol('transaction-argument-type');\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { normalizeSuiAddress, TypeTag } from '../../types';\n\nconst VECTOR_REGEX = /^vector<(.+)>$/;\nconst STRUCT_REGEX = /^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/;\n\nexport class TypeTagSerializer {\n  static parseFromStr(str: string, normalizeAddress = false): TypeTag {\n    if (str === 'address') {\n      return { address: null };\n    } else if (str === 'bool') {\n      return { bool: null };\n    } else if (str === 'u8') {\n      return { u8: null };\n    } else if (str === 'u16') {\n      return { u16: null };\n    } else if (str === 'u32') {\n      return { u32: null };\n    } else if (str === 'u64') {\n      return { u64: null };\n    } else if (str === 'u128') {\n      return { u128: null };\n    } else if (str === 'u256') {\n      return { u256: null };\n    } else if (str === 'signer') {\n      return { signer: null };\n    }\n    const vectorMatch = str.match(VECTOR_REGEX);\n    if (vectorMatch) {\n      return {\n        vector: TypeTagSerializer.parseFromStr(\n          vectorMatch[1],\n          normalizeAddress,\n        ),\n      };\n    }\n\n    const structMatch = str.match(STRUCT_REGEX);\n    if (structMatch) {\n      const address = normalizeAddress\n        ? normalizeSuiAddress(structMatch[1])\n        : structMatch[1];\n      return {\n        struct: {\n          address,\n          module: structMatch[2],\n          name: structMatch[3],\n          typeParams:\n            structMatch[5] === undefined\n              ? []\n              : TypeTagSerializer.parseStructTypeArgs(\n                  structMatch[5],\n                  normalizeAddress,\n                ),\n        },\n      };\n    }\n\n    throw new Error(\n      `Encountered unexpected token when parsing type args for ${str}`,\n    );\n  }\n\n  static parseStructTypeArgs(str: string, normalizeAddress = false): TypeTag[] {\n    // split `str` by all `,` outside angle brackets\n    const tok: Array<string> = [];\n    let word = '';\n    let nestedAngleBrackets = 0;\n    for (let i = 0; i < str.length; i++) {\n      const char = str[i];\n      if (char === '<') {\n        nestedAngleBrackets++;\n      }\n      if (char === '>') {\n        nestedAngleBrackets--;\n      }\n      if (nestedAngleBrackets === 0 && char === ',') {\n        tok.push(word.trim());\n        word = '';\n        continue;\n      }\n      word += char;\n    }\n\n    tok.push(word.trim());\n\n    return tok.map((tok) =>\n      TypeTagSerializer.parseFromStr(tok, normalizeAddress),\n    );\n  }\n\n  static tagToString(tag: TypeTag): string {\n    if ('bool' in tag) {\n      return 'bool';\n    }\n    if ('u8' in tag) {\n      return 'u8';\n    }\n    if ('u16' in tag) {\n      return 'u16';\n    }\n    if ('u32' in tag) {\n      return 'u32';\n    }\n    if ('u64' in tag) {\n      return 'u64';\n    }\n    if ('u128' in tag) {\n      return 'u128';\n    }\n    if ('u256' in tag) {\n      return 'u256';\n    }\n    if ('address' in tag) {\n      return 'address';\n    }\n    if ('signer' in tag) {\n      return 'signer';\n    }\n    if ('vector' in tag) {\n      return `vector<${TypeTagSerializer.tagToString(tag.vector)}>`;\n    }\n    if ('struct' in tag) {\n      const struct = tag.struct;\n      const typeParams = struct.typeParams\n        .map(TypeTagSerializer.tagToString)\n        .join(', ');\n      return `${struct.address}::${struct.module}::${struct.name}${\n        typeParams ? `<${typeParams}>` : ''\n      }`;\n    }\n    throw new Error('Invalid TypeTag');\n  }\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  array,\n  boolean,\n  Infer,\n  integer,\n  object,\n  string,\n  union,\n} from 'superstruct';\nimport {\n  normalizeSuiAddress,\n  ObjectId,\n  SharedObjectRef,\n  SuiObjectRef,\n} from '../types';\nimport { builder } from './bcs';\n\nconst ObjectArg = union([\n  object({ ImmOrOwned: SuiObjectRef }),\n  object({\n    Shared: object({\n      objectId: string(),\n      initialSharedVersion: union([integer(), string()]),\n      mutable: boolean(),\n    }),\n  }),\n]);\n\nexport const PureCallArg = object({ Pure: array(integer()) });\nexport const ObjectCallArg = object({ Object: ObjectArg });\nexport type PureCallArg = Infer<typeof PureCallArg>;\nexport type ObjectCallArg = Infer<typeof ObjectCallArg>;\n\nexport const BuilderCallArg = union([PureCallArg, ObjectCallArg]);\nexport type BuilderCallArg = Infer<typeof BuilderCallArg>;\n\nconst MAX_PURE_ARGUMENT_SIZE = 16 * 1024;\n\nexport const Inputs = {\n  Pure(data: unknown, type?: string): PureCallArg {\n    return {\n      Pure: Array.from(\n        data instanceof Uint8Array\n          ? data\n          : builder\n              .ser(type!, data, { maxSize: MAX_PURE_ARGUMENT_SIZE })\n              .toBytes(),\n      ),\n    };\n  },\n  ObjectRef({ objectId, digest, version }: SuiObjectRef): ObjectCallArg {\n    return {\n      Object: {\n        ImmOrOwned: {\n          digest,\n          version,\n          objectId: normalizeSuiAddress(objectId),\n        },\n      },\n    };\n  },\n  SharedObjectRef({\n    objectId,\n    mutable,\n    initialSharedVersion,\n  }: SharedObjectRef): ObjectCallArg {\n    return {\n      Object: {\n        Shared: {\n          mutable,\n          initialSharedVersion,\n          objectId: normalizeSuiAddress(objectId),\n        },\n      },\n    };\n  },\n};\n\nexport function getIdFromCallArg(arg: ObjectId | ObjectCallArg) {\n  if (typeof arg === 'string') {\n    return normalizeSuiAddress(arg);\n  }\n  if ('ImmOrOwned' in arg.Object) {\n    return normalizeSuiAddress(arg.Object.ImmOrOwned.objectId);\n  }\n  return normalizeSuiAddress(arg.Object.Shared.objectId);\n}\n\nexport function getSharedObjectInput(\n  arg: BuilderCallArg,\n): SharedObjectRef | undefined {\n  return typeof arg === 'object' && 'Object' in arg && 'Shared' in arg.Object\n    ? arg.Object.Shared\n    : undefined;\n}\n\nexport function isSharedObjectInput(arg: BuilderCallArg): boolean {\n  return !!getSharedObjectInput(arg);\n}\n\nexport function isMutableSharedObjectInput(arg: BuilderCallArg): boolean {\n  return getSharedObjectInput(arg)?.mutable ?? false;\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { BCS, TypeName } from '@mysten/bcs';\nimport { bcs } from '../types/sui-bcs';\nimport { normalizeSuiAddress, TypeTag } from '../types';\nimport { TypeTagSerializer } from '../signers/txn-data-serializers/type-tag-serializer';\nimport { TransactionArgument, MoveCallTransaction } from './Transactions';\n\nexport const ARGUMENT_INNER = 'Argument';\nexport const VECTOR = 'vector';\nexport const OPTION = 'Option';\nexport const CALL_ARG = 'CallArg';\nexport const TYPE_TAG = 'TypeTag';\nexport const OBJECT_ARG = 'ObjectArg';\nexport const PROGRAMMABLE_TX_BLOCK = 'ProgrammableTransaction';\nexport const PROGRAMMABLE_CALL_INNER = 'ProgrammableMoveCall';\nexport const TRANSACTION_INNER = 'Transaction';\n\nexport const ENUM_KIND = 'EnumKind';\n\n/** Wrapper around transaction Enum to support `kind` matching in TS */\nexport const TRANSACTION: TypeName = [ENUM_KIND, TRANSACTION_INNER];\n/** Wrapper around Argument Enum to support `kind` matching in TS */\nexport const ARGUMENT: TypeName = [ENUM_KIND, ARGUMENT_INNER];\n\n/** Custom serializer for decoding package, module, function easier */\nexport const PROGRAMMABLE_CALL = 'SimpleProgrammableMoveCall';\n\n/** Transaction types */\n\nexport type Option<T> = { some: T } | { none: true };\n\nexport const builder = new BCS(bcs)\n  .registerStructType(PROGRAMMABLE_TX_BLOCK, {\n    inputs: [VECTOR, CALL_ARG],\n    transactions: [VECTOR, TRANSACTION],\n  })\n  .registerEnumType(ARGUMENT_INNER, {\n    GasCoin: null,\n    Input: { index: BCS.U16 },\n    Result: { index: BCS.U16 },\n    NestedResult: { index: BCS.U16, resultIndex: BCS.U16 },\n  })\n  .registerStructType(PROGRAMMABLE_CALL_INNER, {\n    package: BCS.ADDRESS,\n    module: BCS.STRING,\n    function: BCS.STRING,\n    type_arguments: [VECTOR, TYPE_TAG],\n    arguments: [VECTOR, ARGUMENT],\n  })\n  // Keep this in sync with crates/sui-types/src/messages.rs\n  .registerEnumType(TRANSACTION_INNER, {\n    /**\n     * A Move Call - any public Move function can be called via\n     * this transaction. The results can be used that instant to pass\n     * into the next transaction.\n     */\n    MoveCall: PROGRAMMABLE_CALL,\n    /**\n     * Transfer vector of objects to a receiver.\n     */\n    TransferObjects: {\n      objects: [VECTOR, ARGUMENT],\n      address: ARGUMENT,\n    },\n    /**\n     * Split `amount` from a `coin`.\n     */\n    SplitCoins: { coin: ARGUMENT, amounts: [VECTOR, ARGUMENT] },\n    /**\n     * Merge Vector of Coins (`sources`) into a `destination`.\n     */\n    MergeCoins: { destination: ARGUMENT, sources: [VECTOR, ARGUMENT] },\n    /**\n     * Publish a Move module.\n     */\n    Publish: {\n      modules: [VECTOR, [VECTOR, BCS.U8]],\n      dependencies: [VECTOR, BCS.ADDRESS],\n    },\n    /**\n     * Build a vector of objects using the input arguments.\n     * It is impossible to construct a `vector<T: key>` otherwise,\n     * so this call serves a utility function.\n     */\n    MakeMoveVec: {\n      type: [OPTION, TYPE_TAG],\n      objects: [VECTOR, ARGUMENT],\n    },\n    /**  */\n    Upgrade: {\n      modules: [VECTOR, [VECTOR, BCS.U8]],\n      dependencies: [VECTOR, BCS.ADDRESS],\n      packageId: BCS.ADDRESS,\n      ticket: ARGUMENT,\n    },\n  });\n\n/**\n * Utilities for better decoding.\n */\n\ntype ProgrammableCallInner = {\n  package: string;\n  module: string;\n  function: string;\n  type_arguments: TypeTag[];\n  arguments: TransactionArgument[];\n};\n\n/**\n * Wrapper around Enum, which transforms any `T` into an object with `kind` property:\n * @example\n * ```\n * let bcsEnum = { TransferObjects: { objects: [], address: ... } }\n * // becomes\n * let translatedEnum = { kind: 'TransferObjects', objects: [], address: ... };\n * ```\n */\nbuilder.registerType(\n  [ENUM_KIND, 'T'],\n  function encode(\n    this: BCS,\n    writer,\n    data: { kind: string },\n    typeParams,\n    typeMap,\n  ) {\n    const kind = data.kind;\n    const invariant = { [kind]: data };\n    const [enumType] = typeParams;\n\n    return this.getTypeInterface(enumType as string)._encodeRaw.call(\n      this,\n      writer,\n      invariant,\n      typeParams,\n      typeMap,\n    );\n  },\n  function decode(this: BCS, reader, typeParams, typeMap) {\n    const [enumType] = typeParams;\n    const data = this.getTypeInterface(enumType as string)._decodeRaw.call(\n      this,\n      reader,\n      typeParams,\n      typeMap,\n    );\n\n    // enum invariant can only have one `key` field\n    const kind = Object.keys(data)[0];\n    return { kind, ...data[kind] };\n  },\n  (data: { kind: string }) => {\n    if (typeof data !== 'object' && !('kind' in data)) {\n      throw new Error(\n        `EnumKind: Missing property \"kind\" in the input ${JSON.stringify(\n          data,\n        )}`,\n      );\n    }\n\n    return true;\n  },\n);\n\n/**\n * Custom deserializer for the ProgrammableCall.\n *\n * Hides the inner structure and gives a simpler, more convenient\n * interface to encode and decode this struct as a part of `TransactionData`.\n *\n * - `(package)::(module)::(function)` are now `target` property.\n * - `TypeTag[]` array is now passed as strings, not as a struct.\n */\nbuilder.registerType(\n  PROGRAMMABLE_CALL,\n  function encodeProgrammableTx(\n    this: BCS,\n    writer,\n    data: MoveCallTransaction,\n    typeParams,\n    typeMap,\n  ) {\n    const [pkg, module, fun] = data.target.split('::');\n    const type_arguments = data.typeArguments.map((tag) =>\n      TypeTagSerializer.parseFromStr(tag, true),\n    );\n\n    return this.getTypeInterface(PROGRAMMABLE_CALL_INNER)._encodeRaw.call(\n      this,\n      writer,\n      {\n        package: normalizeSuiAddress(pkg),\n        module,\n        function: fun,\n        type_arguments,\n        arguments: data.arguments,\n      } as ProgrammableCallInner,\n      typeParams,\n      typeMap,\n    );\n  },\n  function decodeProgrammableTx(this: BCS, reader, typeParams, typeMap) {\n    let data: ProgrammableCallInner = builder\n      .getTypeInterface(PROGRAMMABLE_CALL_INNER)\n      ._decodeRaw.call(this, reader, typeParams, typeMap);\n\n    return {\n      target: [data.package, data.module, data.function].join('::'),\n      arguments: data.arguments,\n      typeArguments: data.type_arguments.map(TypeTagSerializer.tagToString),\n    };\n  },\n  // Validation callback to error out if the data format is invalid.\n  // TODO: make sure TypeTag can be parsed.\n  (data: MoveCallTransaction) => {\n    return data.target.split('::').length === 3;\n  },\n);\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n  extractStructTag,\n  ID_STRUCT_NAME,\n  isValidSuiAddress,\n  MOVE_STDLIB_ADDRESS,\n  OBJECT_MODULE_NAME,\n  SuiJsonValue,\n  SuiMoveNormalizedType,\n  SUI_FRAMEWORK_ADDRESS,\n} from '../types';\n\nconst STD_ASCII_MODULE_NAME = 'ascii';\nconst STD_ASCII_STRUCT_NAME = 'String';\n\nconst STD_UTF8_MODULE_NAME = 'string';\nconst STD_UTF8_STRUCT_NAME = 'String';\n\nconst STD_OPTION_MODULE_NAME = 'option';\nconst STD_OPTION_STRUCT_NAME = 'Option';\n\nconst RESOLVED_SUI_ID = {\n  address: SUI_FRAMEWORK_ADDRESS,\n  module: OBJECT_MODULE_NAME,\n  name: ID_STRUCT_NAME,\n};\nconst RESOLVED_ASCII_STR = {\n  address: MOVE_STDLIB_ADDRESS,\n  module: STD_ASCII_MODULE_NAME,\n  name: STD_ASCII_STRUCT_NAME,\n};\nconst RESOLVED_UTF8_STR = {\n  address: MOVE_STDLIB_ADDRESS,\n  module: STD_UTF8_MODULE_NAME,\n  name: STD_UTF8_STRUCT_NAME,\n};\n\nconst RESOLVED_STD_OPTION = {\n  address: MOVE_STDLIB_ADDRESS,\n  module: STD_OPTION_MODULE_NAME,\n  name: STD_OPTION_STRUCT_NAME,\n};\n\nconst isSameStruct = (a: any, b: any) =>\n  a.address === b.address && a.module === b.module && a.name === b.name;\n\nexport function isTxContext(param: SuiMoveNormalizedType): boolean {\n  const struct = extractStructTag(param)?.Struct;\n  return (\n    struct?.address === '0x2' &&\n    struct?.module === 'tx_context' &&\n    struct?.name === 'TxContext'\n  );\n}\n\nfunction expectType(typeName: string, argVal?: SuiJsonValue) {\n  if (typeof argVal === 'undefined') {\n    return;\n  }\n  if (typeof argVal !== typeName) {\n    throw new Error(\n      `Expect ${argVal} to be ${typeName}, received ${typeof argVal}`,\n    );\n  }\n}\n\nconst allowedTypes = [\n  'Address',\n  'Bool',\n  'U8',\n  'U16',\n  'U32',\n  'U64',\n  'U128',\n  'U256',\n];\n\nexport function getPureSerializationType(\n  normalizedType: SuiMoveNormalizedType,\n  argVal: SuiJsonValue | undefined,\n): string | undefined {\n  if (\n    typeof normalizedType === 'string' &&\n    allowedTypes.includes(normalizedType)\n  ) {\n    if (normalizedType in ['U8', 'U16', 'U32', 'U64', 'U128', 'U256']) {\n      expectType('number', argVal);\n    } else if (normalizedType === 'Bool') {\n      expectType('boolean', argVal);\n    } else if (normalizedType === 'Address') {\n      expectType('string', argVal);\n      if (argVal && !isValidSuiAddress(argVal as string)) {\n        throw new Error('Invalid Sui Address');\n      }\n    }\n    return normalizedType.toLowerCase();\n  } else if (typeof normalizedType === 'string') {\n    throw new Error(\n      `Unknown pure normalized type ${JSON.stringify(normalizedType, null, 2)}`,\n    );\n  }\n\n  if ('Vector' in normalizedType) {\n    if (\n      (argVal === undefined || typeof argVal === 'string') &&\n      normalizedType.Vector === 'U8'\n    ) {\n      return 'string';\n    }\n\n    if (argVal !== undefined && !Array.isArray(argVal)) {\n      throw new Error(\n        `Expect ${argVal} to be a array, received ${typeof argVal}`,\n      );\n    }\n\n    const innerType = getPureSerializationType(\n      normalizedType.Vector,\n      // undefined when argVal is empty\n      argVal ? argVal[0] : undefined,\n    );\n\n    if (innerType === undefined) {\n      return;\n    }\n\n    return `vector<${innerType}>`;\n  }\n\n  if ('Struct' in normalizedType) {\n    if (isSameStruct(normalizedType.Struct, RESOLVED_ASCII_STR)) {\n      return 'string';\n    } else if (isSameStruct(normalizedType.Struct, RESOLVED_UTF8_STR)) {\n      return 'utf8string';\n    } else if (isSameStruct(normalizedType.Struct, RESOLVED_SUI_ID)) {\n      return 'address';\n    } else if (isSameStruct(normalizedType.Struct, RESOLVED_STD_OPTION)) {\n      const optionToVec: SuiMoveNormalizedType = {\n        Vector: normalizedType.Struct.typeArguments[0],\n      };\n      return getPureSerializationType(optionToVec, argVal);\n    }\n  }\n\n  return undefined;\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { toB58 } from '@mysten/bcs';\nimport {\n  array,\n  assert,\n  define,\n  Infer,\n  integer,\n  is,\n  literal,\n  nullable,\n  object,\n  optional,\n  string,\n  union,\n} from 'superstruct';\nimport { hashTypedData } from '../cryptography/hash';\nimport { normalizeSuiAddress, SuiObjectRef } from '../types';\nimport { builder } from './bcs';\nimport { TransactionType, TransactionBlockInput } from './Transactions';\nimport { BuilderCallArg, PureCallArg } from './Inputs';\nimport { create } from './utils';\n\nexport const TransactionExpiration = optional(\n  nullable(\n    union([\n      object({ Epoch: integer() }),\n      object({ None: union([literal(true), literal(null)]) }),\n    ]),\n  ),\n);\nexport type TransactionExpiration = Infer<typeof TransactionExpiration>;\n\nconst SuiAddress = string();\n\nconst StringEncodedBigint = define<string>('StringEncodedBigint', (val) => {\n  if (!['string', 'number', 'bigint'].includes(typeof val)) return false;\n\n  try {\n    BigInt(val as string);\n    return true;\n  } catch {\n    return false;\n  }\n});\n\nconst GasConfig = object({\n  budget: optional(StringEncodedBigint),\n  price: optional(StringEncodedBigint),\n  payment: optional(array(SuiObjectRef)),\n  owner: optional(SuiAddress),\n});\ntype GasConfig = Infer<typeof GasConfig>;\n\nexport const SerializedTransactionDataBuilder = object({\n  version: literal(1),\n  sender: optional(SuiAddress),\n  expiration: TransactionExpiration,\n  gasConfig: GasConfig,\n  inputs: array(TransactionBlockInput),\n  transactions: array(TransactionType),\n});\nexport type SerializedTransactionDataBuilder = Infer<\n  typeof SerializedTransactionDataBuilder\n>;\n\nfunction prepareSuiAddress(address: string) {\n  return normalizeSuiAddress(address).replace('0x', '');\n}\n\n// NOTE: This value should be kept in sync with the corresponding value in\n// crates/sui-protocol-config/src/lib.rs\nconst TRANSACTION_DATA_MAX_SIZE = 128 * 1024;\n\nexport class TransactionBlockDataBuilder {\n  static fromKindBytes(bytes: Uint8Array) {\n    const kind = builder.de('TransactionKind', bytes);\n    const programmableTx = kind?.ProgrammableTransaction;\n    if (!programmableTx) {\n      throw new Error('Unable to deserialize from bytes.');\n    }\n\n    const serialized = create(\n      {\n        version: 1,\n        gasConfig: {},\n        inputs: programmableTx.inputs.map((value: unknown, index: number) =>\n          create(\n            {\n              kind: 'Input',\n              value,\n              index,\n              type: is(value, PureCallArg) ? 'pure' : 'object',\n            },\n            TransactionBlockInput,\n          ),\n        ),\n        transactions: programmableTx.transactions,\n      },\n      SerializedTransactionDataBuilder,\n    );\n\n    return TransactionBlockDataBuilder.restore(serialized);\n  }\n\n  static fromBytes(bytes: Uint8Array) {\n    const rawData = builder.de('TransactionData', bytes);\n    const data = rawData?.V1;\n    const programmableTx = data?.kind?.ProgrammableTransaction;\n    if (!data || !programmableTx) {\n      throw new Error('Unable to deserialize from bytes.');\n    }\n\n    const serialized = create(\n      {\n        version: 1,\n        sender: data.sender,\n        expiration: data.expiration,\n        gasConfig: data.gasData,\n        inputs: programmableTx.inputs.map((value: unknown, index: number) =>\n          create(\n            {\n              kind: 'Input',\n              value,\n              index,\n              type: is(value, PureCallArg) ? 'pure' : 'object',\n            },\n            TransactionBlockInput,\n          ),\n        ),\n        transactions: programmableTx.transactions,\n      },\n      SerializedTransactionDataBuilder,\n    );\n\n    return TransactionBlockDataBuilder.restore(serialized);\n  }\n\n  static restore(data: SerializedTransactionDataBuilder) {\n    assert(data, SerializedTransactionDataBuilder);\n    const transactionData = new TransactionBlockDataBuilder();\n    Object.assign(transactionData, data);\n    return transactionData;\n  }\n\n  /**\n   * Generate transaction digest.\n   *\n   * @param bytes BCS serialized transaction data\n   * @returns transaction digest.\n   */\n  static getDigestFromBytes(bytes: Uint8Array) {\n    const hash = hashTypedData('TransactionData', bytes);\n    return toB58(hash);\n  }\n\n  version = 1 as const;\n  sender?: string;\n  expiration?: TransactionExpiration;\n  gasConfig: GasConfig;\n  inputs: TransactionBlockInput[];\n  transactions: TransactionType[];\n\n  constructor(clone?: SerializedTransactionDataBuilder) {\n    this.sender = clone?.sender;\n    this.expiration = clone?.expiration;\n    this.gasConfig = clone?.gasConfig ?? {};\n    this.inputs = clone?.inputs ?? [];\n    this.transactions = clone?.transactions ?? [];\n  }\n\n  build({\n    overrides,\n    onlyTransactionKind,\n  }: {\n    overrides?: Pick<\n      Partial<TransactionBlockDataBuilder>,\n      'sender' | 'gasConfig' | 'expiration'\n    >;\n    onlyTransactionKind?: boolean;\n  } = {}) {\n    // Resolve inputs down to values:\n    const inputs = this.inputs.map((input) => {\n      assert(input.value, BuilderCallArg);\n      return input.value;\n    });\n\n    const kind = {\n      ProgrammableTransaction: {\n        inputs,\n        transactions: this.transactions,\n      },\n    };\n\n    if (onlyTransactionKind) {\n      return builder\n        .ser('TransactionKind', kind, { maxSize: TRANSACTION_DATA_MAX_SIZE })\n        .toBytes();\n    }\n\n    const expiration = overrides?.expiration ?? this.expiration;\n    const sender = overrides?.sender ?? this.sender;\n    const gasConfig = { ...this.gasConfig, ...overrides?.gasConfig };\n\n    if (!sender) {\n      throw new Error('Missing transaction sender');\n    }\n\n    if (!gasConfig.budget) {\n      throw new Error('Missing gas budget');\n    }\n\n    if (!gasConfig.payment) {\n      throw new Error('Missing gas payment');\n    }\n\n    if (!gasConfig.price) {\n      throw new Error('Missing gas price');\n    }\n\n    const transactionData = {\n      sender: prepareSuiAddress(sender),\n      expiration: expiration ? expiration : { None: true },\n      gasData: {\n        payment: gasConfig.payment,\n        owner: prepareSuiAddress(this.gasConfig.owner ?? sender),\n        price: BigInt(gasConfig.price),\n        budget: BigInt(gasConfig.budget),\n      },\n      kind: {\n        ProgrammableTransaction: {\n          inputs,\n          transactions: this.transactions,\n        },\n      },\n    };\n\n    return builder\n      .ser(\n        'TransactionData',\n        { V1: transactionData },\n        { maxSize: TRANSACTION_DATA_MAX_SIZE },\n      )\n      .toBytes();\n  }\n\n  getDigest() {\n    const bytes = this.build({ onlyTransactionKind: false });\n    return TransactionBlockDataBuilder.getDigestFromBytes(bytes);\n  }\n\n  snapshot(): SerializedTransactionDataBuilder {\n    return create(this, SerializedTransactionDataBuilder);\n  }\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { blake2b } from '@noble/hashes/blake2b';\n\n/**\n * Generates a Blake2b hash of typed data as a base64 string.\n *\n * @param typeTag type tag (e.g. TransactionData, SenderSignedData)\n * @param data data to hash\n */\nexport function hashTypedData(typeTag: string, data: Uint8Array): Uint8Array {\n  const typeTagBytes = Array.from(`${typeTag}::`).map((e) => e.charCodeAt(0));\n\n  const dataWithTag = new Uint8Array(typeTagBytes.length + data.length);\n  dataWithTag.set(typeTagBytes);\n  dataWithTag.set(data, typeTagBytes.length);\n\n  return blake2b(dataWithTag, { dkLen: 32 });\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { number, object, string } from 'superstruct';\n\nexport const NetworkMetrics = object({\n  currentTps: number(),\n  tps30Days: number(),\n  currentCheckpoint: string(),\n  currentEpoch: string(),\n  totalAddresses: string(),\n  totalObjects: string(),\n  totalPackages: string(),\n});\n\nexport const AddressMetrics = object({\n  checkpoint: number(),\n  epoch: number(),\n  timestampMs: number(),\n  cumulativeAddresses: number(),\n  cumulativeActiveAddresses: number(),\n  dailyActiveAddresses: number(),\n});\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { blake2b } from '@noble/hashes/blake2b';\nimport { Keypair } from '../cryptography/keypair';\nimport {\n  SerializedSignature,\n  toSerializedSignature,\n} from '../cryptography/signature';\nimport { JsonRpcProvider } from '../providers/json-rpc-provider';\nimport { SuiAddress } from '../types';\nimport { SignerWithProvider } from './signer-with-provider';\n\nexport class RawSigner extends SignerWithProvider {\n  private readonly keypair: Keypair;\n\n  constructor(keypair: Keypair, provider: JsonRpcProvider) {\n    super(provider);\n    this.keypair = keypair;\n  }\n\n  async getAddress(): Promise<SuiAddress> {\n    return this.keypair.getPublicKey().toSuiAddress();\n  }\n\n  async signData(data: Uint8Array): Promise<SerializedSignature> {\n    const pubkey = this.keypair.getPublicKey();\n    const digest = blake2b(data, { dkLen: 32 });\n    const signature = this.keypair.signData(digest);\n    const signatureScheme = this.keypair.getKeyScheme();\n\n    return toSerializedSignature({\n      signatureScheme,\n      signature,\n      pubKey: pubkey,\n    });\n  }\n\n  connect(provider: JsonRpcProvider): SignerWithProvider {\n    return new RawSigner(this.keypair, provider);\n  }\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { fromB64, toB64 } from '@mysten/bcs';\nimport { TransactionBlock } from '../builder';\nimport { TransactionBlockDataBuilder } from '../builder/TransactionBlockData';\nimport { SerializedSignature } from '../cryptography/signature';\nimport { JsonRpcProvider } from '../providers/json-rpc-provider';\nimport { HttpHeaders } from '../rpc/client';\nimport {\n  ExecuteTransactionRequestType,\n  FaucetResponse,\n  getTotalGasUsedUpperBound,\n  SuiAddress,\n  DevInspectResults,\n  DryRunTransactionBlockResponse,\n  SuiTransactionBlockResponse,\n  SuiTransactionBlockResponseOptions,\n} from '../types';\nimport { IntentScope, messageWithIntent } from '../utils/intent';\nimport { Signer } from './signer';\nimport { SignedTransaction, SignedMessage } from './types';\n\n///////////////////////////////\n// Exported Abstracts\nexport abstract class SignerWithProvider implements Signer {\n  readonly provider: JsonRpcProvider;\n\n  ///////////////////\n  // Sub-classes MUST implement these\n\n  // Returns the checksum address\n  abstract getAddress(): Promise<SuiAddress>;\n\n  /**\n   * Returns the signature for the data and the public key of the signer\n   */\n  abstract signData(data: Uint8Array): Promise<SerializedSignature>;\n\n  // Returns a new instance of the Signer, connected to provider.\n  // This MAY throw if changing providers is not supported.\n  abstract connect(provider: JsonRpcProvider): SignerWithProvider;\n\n  ///////////////////\n  // Sub-classes MAY override these\n\n  /**\n   * Request gas tokens from a faucet server and send to the signer\n   * address\n   * @param httpHeaders optional request headers\n   */\n  async requestSuiFromFaucet(\n    httpHeaders?: HttpHeaders,\n  ): Promise<FaucetResponse> {\n    return this.provider.requestSuiFromFaucet(\n      await this.getAddress(),\n      httpHeaders,\n    );\n  }\n\n  constructor(provider: JsonRpcProvider) {\n    this.provider = provider;\n  }\n\n  /**\n   * Sign a message using the keypair, with the `PersonalMessage` intent.\n   */\n  async signMessage(input: { message: Uint8Array }): Promise<SignedMessage> {\n    const signature = await this.signData(\n      messageWithIntent(IntentScope.PersonalMessage, input.message),\n    );\n\n    return {\n      messageBytes: toB64(input.message),\n      signature,\n    };\n  }\n\n  protected async prepareTransactionBlock(\n    transactionBlock: Uint8Array | TransactionBlock,\n  ) {\n    if (TransactionBlock.is(transactionBlock)) {\n      // If the sender has not yet been set on the transaction, then set it.\n      // NOTE: This allows for signing transactions with mis-matched senders, which is important for sponsored transactions.\n      transactionBlock.setSenderIfNotSet(await this.getAddress());\n      return await transactionBlock.build({\n        provider: this.provider,\n      });\n    }\n    if (transactionBlock instanceof Uint8Array) {\n      return transactionBlock;\n    }\n    throw new Error('Unknown transaction format');\n  }\n\n  /**\n   * Sign a transaction.\n   */\n  async signTransactionBlock(input: {\n    transactionBlock: Uint8Array | TransactionBlock;\n  }): Promise<SignedTransaction> {\n    const transactionBlockBytes = await this.prepareTransactionBlock(\n      input.transactionBlock,\n    );\n\n    const intentMessage = messageWithIntent(\n      IntentScope.TransactionData,\n      transactionBlockBytes,\n    );\n    const signature = await this.signData(intentMessage);\n\n    return {\n      transactionBlockBytes: toB64(transactionBlockBytes),\n      signature,\n    };\n  }\n\n  /**\n   * Sign a transaction block and submit to the Fullnode for execution.\n   *\n   * @param options specify which fields to return (e.g., transaction, effects, events, etc).\n   * By default, only the transaction digest will be returned.\n   * @param requestType WaitForEffectsCert or WaitForLocalExecution, see details in `ExecuteTransactionRequestType`.\n   * Defaults to `WaitForLocalExecution` if options.show_effects or options.show_events is true\n   */\n  async signAndExecuteTransactionBlock(input: {\n    transactionBlock: Uint8Array | TransactionBlock;\n    /** specify which fields to return (e.g., transaction, effects, events, etc). By default, only the transaction digest will be returned. */\n    options?: SuiTransactionBlockResponseOptions;\n    /** `WaitForEffectsCert` or `WaitForLocalExecution`, see details in `ExecuteTransactionRequestType`.\n     * Defaults to `WaitForLocalExecution` if options.show_effects or options.show_events is true\n     */\n    requestType?: ExecuteTransactionRequestType;\n  }): Promise<SuiTransactionBlockResponse> {\n    const { transactionBlockBytes, signature } =\n      await this.signTransactionBlock({\n        transactionBlock: input.transactionBlock,\n      });\n\n    return await this.provider.executeTransactionBlock({\n      transactionBlock: transactionBlockBytes,\n      signature,\n      options: input.options,\n      requestType: input.requestType,\n    });\n  }\n\n  /**\n   * Derive transaction digest from\n   * @param tx BCS serialized transaction data or a `Transaction` object\n   * @returns transaction digest\n   */\n  async getTransactionBlockDigest(\n    tx: Uint8Array | TransactionBlock,\n  ): Promise<string> {\n    if (TransactionBlock.is(tx)) {\n      tx.setSenderIfNotSet(await this.getAddress());\n      return tx.getDigest({ provider: this.provider });\n    } else if (tx instanceof Uint8Array) {\n      return TransactionBlockDataBuilder.getDigestFromBytes(tx);\n    } else {\n      throw new Error('Unknown transaction format.');\n    }\n  }\n\n  /**\n   * Runs the transaction in dev-inpsect mode. Which allows for nearly any\n   * transaction (or Move call) with any arguments. Detailed results are\n   * provided, including both the transaction effects and any return values.\n   */\n  async devInspectTransactionBlock(\n    input: Omit<\n      Parameters<JsonRpcProvider['devInspectTransactionBlock']>[0],\n      'sender'\n    >,\n  ): Promise<DevInspectResults> {\n    const address = await this.getAddress();\n    return this.provider.devInspectTransactionBlock({\n      sender: address,\n      ...input,\n    });\n  }\n\n  /**\n   * Dry run a transaction and return the result.\n   */\n  async dryRunTransactionBlock(input: {\n    transactionBlock: TransactionBlock | string | Uint8Array;\n  }): Promise<DryRunTransactionBlockResponse> {\n    let dryRunTxBytes: Uint8Array;\n    if (TransactionBlock.is(input.transactionBlock)) {\n      input.transactionBlock.setSenderIfNotSet(await this.getAddress());\n      dryRunTxBytes = await input.transactionBlock.build({\n        provider: this.provider,\n      });\n    } else if (typeof input.transactionBlock === 'string') {\n      dryRunTxBytes = fromB64(input.transactionBlock);\n    } else if (input.transactionBlock instanceof Uint8Array) {\n      dryRunTxBytes = input.transactionBlock;\n    } else {\n      throw new Error('Unknown transaction format');\n    }\n\n    return this.provider.dryRunTransactionBlock({\n      transactionBlock: dryRunTxBytes,\n    });\n  }\n\n  /**\n   * Returns the estimated gas cost for the transaction\n   * @param tx The transaction to estimate the gas cost. When string it is assumed it's a serialized tx in base64\n   * @returns total gas cost estimation\n   * @throws whens fails to estimate the gas cost\n   */\n  async getGasCostEstimation(\n    ...args: Parameters<SignerWithProvider['dryRunTransactionBlock']>\n  ) {\n    const txEffects = await this.dryRunTransactionBlock(...args);\n    const gasEstimation = getTotalGasUsedUpperBound(txEffects.effects);\n    if (typeof gasEstimation === 'undefined') {\n      throw new Error('Failed to estimate the gas cost from transaction');\n    }\n    return gasEstimation;\n  }\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\n// See: sui/crates/sui-types/src/intent.rs\nexport enum AppId {\n  Sui = 0,\n}\n\nexport enum IntentVersion {\n  V0 = 0,\n}\n\nexport enum IntentScope {\n  TransactionData = 0,\n  TransactionEffects = 1,\n  CheckpointSummary = 2,\n  PersonalMessage = 3,\n}\n\nexport type Intent = [IntentScope, IntentVersion, AppId];\n\nfunction intentWithScope(scope: IntentScope): Intent {\n  return [scope, IntentVersion.V0, AppId.Sui];\n}\n\nexport function messageWithIntent(scope: IntentScope, message: Uint8Array) {\n  const intent = intentWithScope(scope);\n  const intentMessage = new Uint8Array(intent.length + message.length);\n  intentMessage.set(intent);\n  intentMessage.set(message, intent.length);\n  return intentMessage;\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nconst ELLIPSIS = '\\u{2026}';\n\nexport function formatAddress(address: string) {\n  const offset = address.startsWith('0x') ? 2 : 0;\n\n  return `0x${address.slice(offset, offset + 4)}${ELLIPSIS}${address.slice(\n    -4,\n  )}`;\n}\n\nexport function formatDigest(digest: string) {\n  // Use 10 first characters\n  return `${digest.slice(0, 10)}${ELLIPSIS}`;\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { fromB64 } from '@mysten/bcs';\nimport nacl from 'tweetnacl';\nimport { IntentScope, messageWithIntent } from './intent';\nimport { secp256k1 } from '@noble/curves/secp256k1';\nimport { sha256 } from '@noble/hashes/sha256';\nimport {\n  fromSerializedSignature,\n  SerializedSignature,\n} from '../cryptography/signature';\nimport { blake2b } from '@noble/hashes/blake2b';\n\n// TODO: This might actually make sense to eventually move to the `Keypair` instances themselves, as\n// it could allow the Sui.js to be tree-shaken a little better, possibly allowing keypairs that are\n// not used (and their deps) to be entirely removed from the bundle.\n\n/** Verify data that is signed with the expected scope. */\nexport async function verifyMessage(\n  message: Uint8Array | string,\n  serializedSignature: SerializedSignature,\n  scope: IntentScope,\n) {\n  const signature = fromSerializedSignature(serializedSignature);\n  const messageBytes = messageWithIntent(\n    scope,\n    typeof message === 'string' ? fromB64(message) : message,\n  );\n  const digest = blake2b(messageBytes, { dkLen: 32 });\n  switch (signature.signatureScheme) {\n    case 'ED25519':\n      return nacl.sign.detached.verify(\n        digest,\n        signature.signature,\n        signature.pubKey.toBytes(),\n      );\n    case 'Secp256k1':\n      return secp256k1.verify(\n        secp256k1.Signature.fromCompact(signature.signature),\n        sha256(digest),\n        signature.pubKey.toBytes(),\n      );\n    default:\n      throw new Error(\n        `Unknown signature scheme: \"${signature.signatureScheme}\"`,\n      );\n  }\n}\n","// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { TransactionBlock } from '../builder';\nimport { JsonRpcProvider } from '../providers/json-rpc-provider';\nimport {\n  getObjectReference,\n  normalizeSuiObjectId,\n  ObjectId,\n  SuiAddress,\n  SUI_SYSTEM_ADDRESS,\n} from '../types';\n\n/**\n * Address of the Sui System object.\n * Always the same in every Sui network (local, devnet, testnet).\n */\nexport const SUI_SYSTEM_STATE_OBJECT_ID: string = normalizeSuiObjectId('0x5');\n\nexport const SUI_SYSTEM_MODULE_NAME = 'sui_system';\nexport const ADD_STAKE_FUN_NAME = 'request_add_stake';\nexport const ADD_STAKE_LOCKED_COIN_FUN_NAME =\n  'request_add_stake_with_locked_coin';\nexport const WITHDRAW_STAKE_FUN_NAME = 'request_withdraw_stake';\n\n/**\n * Utility class for `0x5` object\n */\nexport class SuiSystemStateUtil {\n  /**\n   * Create a new transaction for staking coins ready to be signed and executed with `signer-and-provider`.\n   *\n   * @param coins the coins to be staked\n   * @param amount the amount to stake\n   * @param gasBudget omittable only for DevInspect mode\n   */\n  public static async newRequestAddStakeTxn(\n    provider: JsonRpcProvider,\n    coins: ObjectId[],\n    amount: bigint,\n    validatorAddress: SuiAddress,\n  ): Promise<TransactionBlock> {\n    // TODO: validate coin types and handle locked coins\n    const tx = new TransactionBlock();\n\n    const coin = tx.splitCoins(tx.gas, [tx.pure(amount)]);\n    tx.moveCall({\n      target: `${SUI_SYSTEM_ADDRESS}::${SUI_SYSTEM_MODULE_NAME}::${ADD_STAKE_FUN_NAME}`,\n      arguments: [\n        tx.object(SUI_SYSTEM_STATE_OBJECT_ID),\n        coin,\n        tx.pure(validatorAddress),\n      ],\n    });\n    const coinObjects = await provider.multiGetObjects({\n      ids: coins,\n      options: {\n        showOwner: true,\n      },\n    });\n    tx.setGasPayment(coinObjects.map((obj) => getObjectReference(obj)!));\n    return tx;\n  }\n\n  /**\n   * Create a new transaction for withdrawing coins ready to be signed and\n   * executed with `signer-and-provider`.\n   *\n   * @param stake the stake object created in the requestAddStake txn\n   * @param stakedCoinId the coins to withdraw\n   * @param gasBudget omittable only for DevInspect mode\n   */\n  public static async newRequestWithdrawlStakeTxn(\n    stake: ObjectId,\n    stakedCoinId: ObjectId,\n  ): Promise<TransactionBlock> {\n    const tx = new TransactionBlock();\n    tx.moveCall({\n      target: `${SUI_SYSTEM_ADDRESS}::${SUI_SYSTEM_MODULE_NAME}::${WITHDRAW_STAKE_FUN_NAME}`,\n      arguments: [\n        tx.object(SUI_SYSTEM_STATE_OBJECT_ID),\n        tx.object(stake),\n        tx.object(stakedCoinId),\n      ],\n    });\n\n    return tx;\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAAA;AAAA,EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAAC;AAAA,EAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;A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","names":["GasCostSummary","VECTOR","import_tweetnacl","import_bcs","import_bcs","import_blake2b","import_utils","module","import_superstruct","import_superstruct","import_superstruct","option","import_superstruct","import_bcs","writer","reader","import_superstruct","import_superstruct","value","import_superstruct","import_superstruct","import_superstruct","import_superstruct","import_superstruct","import_superstruct","GasCostSummary","import_bcs","import_bcs","PublicKey","import_bcs","bip39MnemonicToSeedSync","import_bcs","import_utils","import_blake2b","import_bcs","import_bcs","nacl","import_superstruct","import_superstruct","import_client_js","client","import_superstruct","import_bcs","import_bcs","import_superstruct","import_bcs","import_superstruct","import_superstruct","superstructCreate","tok","UpgradePolicy","module","import_superstruct","import_bcs","VECTOR","module","import_bcs","import_superstruct","import_blake2b","SuiAddress","chunk","object","import_superstruct","import_blake2b","import_bcs","AppId","IntentVersion","IntentScope","import_bcs","import_tweetnacl","import_secp256k1","import_sha256","import_blake2b","nacl","import_bcs","import_superstruct"]}